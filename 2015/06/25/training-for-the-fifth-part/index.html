
 <!DOCTYPE HTML>
<html lang="zh-CN">
<head>
  <meta charset="UTF-8">
  
    <title>training for the fifth part | louis.chen</title>
    <meta name="viewport" content="width=device-width, initial-scale=1,user-scalable=no">
    
    <meta name="author" content="louis.chen">
    

    
    <meta name="description" content="本部分为主要是实现导航部分，分为ViewPager实现可滑动的view，DrawerLayout实现侧滑，返回到上一级父Activity。">
<meta property="og:type" content="article">
<meta property="og:title" content="training for the fifth part">
<meta property="og:url" content="http://chenfuduo.me/2015/06/25/training-for-the-fifth-part/index.html">
<meta property="og:site_name" content="louis.chen">
<meta property="og:description" content="本部分为主要是实现导航部分，分为ViewPager实现可滑动的view，DrawerLayout实现侧滑，返回到上一级父Activity。">
<meta property="og:image" content="http://1.infotravel.sinaapp.com/pic/9.gif">
<meta property="og:image" content="http://1.infotravel.sinaapp.com/pic/10.gif">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="training for the fifth part">
<meta name="twitter:description" content="本部分为主要是实现导航部分，分为ViewPager实现可滑动的view，DrawerLayout实现侧滑，返回到上一级父Activity。">

    
    <link rel="alternative" href="/atom.xml" title="louis.chen" type="application/atom+xml">
    
    
    <link rel="icon" href="/img/favicon.ico">
    
    
    <link rel="apple-touch-icon" href="/img/jacman.jpg">
    <link rel="apple-touch-icon-precomposed" href="/img/jacman.jpg">
    
    <link rel="stylesheet" href="/css/style.css" type="text/css">
</head>

  <body>
    <header>
      
<div>
		
			<div id="imglogo">
				<a href="/"><img src="/img/logo.svg" alt="louis.chen" title="louis.chen"/></a>
			</div>
			
			<div id="textlogo">
				<h1 class="site-name"><a href="/" title="louis.chen">louis.chen</a></h1>
				<h2 class="blog-motto">纸上得来终觉浅,绝知此事要躬行。</h2>
			</div>
			<div class="navbar"><a class="navbutton navmobile" href="#" title="菜单">
			</a></div>
			<nav class="animated">
				<ul>
					<ul>
					 
						<li><a href="/">首页</a></li>
					
						<li><a href="/archives">归档</a></li>
					
						<li><a href="/project">项目</a></li>
					
						<li><a href="/about">关于</a></li>
					
					<li>
 					
					<form class="search" action="//google.com/search" method="get" accept-charset="utf-8">
						<label>Search</label>
						<input type="search" id="search" name="q" autocomplete="off" maxlength="20" placeholder="搜索" />
						<input type="hidden" name="q" value="site:chenfuduo.me">
					</form>
					
					</li>
				</ul>
			</nav>			
</div>
    </header>
    <div id="container">
      <div id="main" class="post" itemscope itemprop="blogPost">
  
	<article itemprop="articleBody"> 
		<header class="article-info clearfix">
  <h1 itemprop="name">
    
      <a href="/2015/06/25/training-for-the-fifth-part/" title="training for the fifth part" itemprop="url">training for the fifth part</a>
  </h1>
  <p class="article-author">By
       
		<a href="/about" title="louis.chen" target="_blank" itemprop="author">louis.chen</a>
		
  <p class="article-time">
    <time datetime="2015-06-25T13:01:20.000Z" itemprop="datePublished"> 发表于 2015-06-25</time>
    
  </p>
</header>
	<div class="article-content">
		
		<div id="toc" class="toc-article">
			<strong class="toc-title">文章目录</strong>
		
			<ol class="toc"><li class="toc-item toc-level-1"><a class="toc-link" href="#创建带有tab可滑动的view"><span class="toc-number">1.</span> <span class="toc-text">创建带有tab可滑动的view</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#创建可滑动的view"><span class="toc-number">1.1.</span> <span class="toc-text">创建可滑动的view</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#添加tabs到ActionBar上"><span class="toc-number">1.2.</span> <span class="toc-text">添加tabs到ActionBar上</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#滑动view，改变tab"><span class="toc-number">1.3.</span> <span class="toc-text">滑动view，改变tab</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#使用Title_Strip取代tab"><span class="toc-number">1.4.</span> <span class="toc-text">使用Title Strip取代tab</span></a></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#DrawerLayout实现侧滑菜单"><span class="toc-number">2.</span> <span class="toc-text">DrawerLayout实现侧滑菜单</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#提供向上导航"><span class="toc-number">3.</span> <span class="toc-text">提供向上导航</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#配置清单文件"><span class="toc-number">3.1.</span> <span class="toc-text">配置清单文件</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#添加动作"><span class="toc-number">3.2.</span> <span class="toc-text">添加动作</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#导航到父Activity"><span class="toc-number">3.3.</span> <span class="toc-text">导航到父Activity</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#新的回退栈导航"><span class="toc-number">3.4.</span> <span class="toc-text">新的回退栈导航</span></a></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#提供合适的返回的导航"><span class="toc-number">4.</span> <span class="toc-text">提供合适的返回的导航</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#Notification"><span class="toc-number">4.1.</span> <span class="toc-text">Notification</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Fragemnt"><span class="toc-number">4.2.</span> <span class="toc-text">Fragemnt</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#WebView"><span class="toc-number">4.3.</span> <span class="toc-text">WebView</span></a></li></ol></li></ol>
		
		</div>
		
		<p>本部分为主要是实现导航部分，分为ViewPager实现可滑动的view，DrawerLayout实现侧滑，返回到上一级父Activity。<br><a id="more"></a></p>
<h1 id="创建带有tab可滑动的view">创建带有tab可滑动的view</h1><p>可分为一下几个部分实现。</p>
<h2 id="创建可滑动的view">创建可滑动的view</h2><p>就是使用ViewPager，唯一需要注意的是ViewPager提供的适配器的不同。在之前的博客讨论过。<br>布局：<br><figure class="highlight xml"><table><tr><td class="code"><pre><span class="line"><span class="pi">&lt;?xml version="1.0" encoding="utf-8"?&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="title">android.support.v4.view.ViewPager</span></span><br><span class="line">    <span class="attribute">xmlns:android</span>=<span class="value">"http://schemas.android.com/apk/res/android"</span></span><br><span class="line">    <span class="attribute">android:id</span>=<span class="value">"@+id/pager"</span></span><br><span class="line">    <span class="attribute">android:layout_width</span>=<span class="value">"match_parent"</span></span><br><span class="line">    <span class="attribute">android:layout_height</span>=<span class="value">"match_parent"</span> /&gt;</span></span><br></pre></td></tr></table></figure></p>
<ul>
<li><code>FragmentPagerAdapter</code>  This is best when navigating between sibling screens representing a fixed, small number of pages.</li>
<li><code>FragmentStatePagerAdapter</code>   This is best for paging across a collection of objects for which the number of pages is undetermined. It destroys fragments as the user navigates to other pages, minimizing memory usage.<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">CollectionDemoActivity</span> <span class="keyword">extends</span> <span class="title">FragmentActivity</span> </span>&#123;</span><br><span class="line">    <span class="comment">// When requested, this adapter returns a DemoObjectFragment,</span></span><br><span class="line">    <span class="comment">// representing an object in the collection.</span></span><br><span class="line">    DemoCollectionPagerAdapter mDemoCollectionPagerAdapter;</span><br><span class="line">    ViewPager mViewPager;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">onCreate</span><span class="params">(Bundle savedInstanceState)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">super</span>.onCreate(savedInstanceState);</span><br><span class="line">        setContentView(R.layout.activity_collection_demo);</span><br><span class="line"></span><br><span class="line">        <span class="comment">// ViewPager and its adapters use support library</span></span><br><span class="line">        <span class="comment">// fragments, so use getSupportFragmentManager.</span></span><br><span class="line">        mDemoCollectionPagerAdapter =</span><br><span class="line">                <span class="keyword">new</span> DemoCollectionPagerAdapter(</span><br><span class="line">                        getSupportFragmentManager());</span><br><span class="line">        mViewPager = (ViewPager) findViewById(R.id.pager);</span><br><span class="line">        mViewPager.setAdapter(mDemoCollectionPagerAdapter);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// Since this is an object collection, use a FragmentStatePagerAdapter,</span></span><br><span class="line"><span class="comment">// and NOT a FragmentPagerAdapter.</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">DemoCollectionPagerAdapter</span> <span class="keyword">extends</span> <span class="title">FragmentStatePagerAdapter</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="title">DemoCollectionPagerAdapter</span><span class="params">(FragmentManager fm)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">super</span>(fm);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="annotation">@Override</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> Fragment <span class="title">getItem</span><span class="params">(<span class="keyword">int</span> i)</span> </span>&#123;</span><br><span class="line">        Fragment fragment = <span class="keyword">new</span> DemoObjectFragment();</span><br><span class="line">        Bundle args = <span class="keyword">new</span> Bundle();</span><br><span class="line">        <span class="comment">// Our object is just an integer :-P</span></span><br><span class="line">        args.putInt(DemoObjectFragment.ARG_OBJECT, i + <span class="number">1</span>);</span><br><span class="line">        fragment.setArguments(args);</span><br><span class="line">        <span class="keyword">return</span> fragment;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="annotation">@Override</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">getCount</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="number">100</span>;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="annotation">@Override</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> CharSequence <span class="title">getPageTitle</span><span class="params">(<span class="keyword">int</span> position)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="string">"OBJECT "</span> + (position + <span class="number">1</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// Instances of this class are fragments representing a single</span></span><br><span class="line"><span class="comment">// object in our collection.</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">static</span> <span class="class"><span class="keyword">class</span> <span class="title">DemoObjectFragment</span> <span class="keyword">extends</span> <span class="title">Fragment</span> </span>&#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">final</span> String ARG_OBJECT = <span class="string">"object"</span>;</span><br><span class="line"></span><br><span class="line">    <span class="annotation">@Override</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> View <span class="title">onCreateView</span><span class="params">(LayoutInflater inflater,</span><br><span class="line">            ViewGroup container, Bundle savedInstanceState)</span> </span>&#123;</span><br><span class="line">        <span class="comment">// The last two arguments ensure LayoutParams are inflated</span></span><br><span class="line">        <span class="comment">// properly.</span></span><br><span class="line">        View rootView = inflater.inflate(</span><br><span class="line">                R.layout.fragment_collection_object, container, <span class="keyword">false</span>);</span><br><span class="line">        Bundle args = getArguments();</span><br><span class="line">        ((TextView) rootView.findViewById(android.R.id.text1)).setText(</span><br><span class="line">                Integer.toString(args.getInt(ARG_OBJECT)));</span><br><span class="line">        <span class="keyword">return</span> rootView;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
</li>
</ul>
<h2 id="添加tabs到ActionBar上">添加tabs到ActionBar上</h2><p>使用ActionBar创建tabs，需要启用它的<code>NAVIGATION_MODE_TABS</code>模式，通过<code>actionBar.addTab()</code>添加tab，然后去实现<code>ActionBar.TabListener()</code>接口里的方法。<br><figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="annotation">@Override</span></span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">onCreate</span><span class="params">(Bundle savedInstanceState)</span> </span>&#123;</span><br><span class="line">    <span class="keyword">final</span> ActionBar actionBar = getActionBar();</span><br><span class="line">    ...</span><br><span class="line"></span><br><span class="line">    <span class="comment">// Specify that tabs should be displayed in the action bar.</span></span><br><span class="line">    actionBar.setNavigationMode(ActionBar.NAVIGATION_MODE_TABS);</span><br><span class="line"></span><br><span class="line">    <span class="comment">// Create a tab listener that is called when the user changes tabs.</span></span><br><span class="line">    ActionBar.TabListener tabListener = <span class="keyword">new</span> ActionBar.TabListener() &#123;</span><br><span class="line">        <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">onTabSelected</span><span class="params">(ActionBar.Tab tab, FragmentTransaction ft)</span> </span>&#123;</span><br><span class="line">            <span class="comment">// show the given tab</span></span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">onTabUnselected</span><span class="params">(ActionBar.Tab tab, FragmentTransaction ft)</span> </span>&#123;</span><br><span class="line">            <span class="comment">// hide the given tab</span></span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">onTabReselected</span><span class="params">(ActionBar.Tab tab, FragmentTransaction ft)</span> </span>&#123;</span><br><span class="line">            <span class="comment">// probably ignore this event</span></span><br><span class="line">        &#125;</span><br><span class="line">    &#125;;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// Add 3 tabs, specifying the tab's text and TabListener</span></span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; <span class="number">3</span>; i++) &#123;</span><br><span class="line">        actionBar.addTab(</span><br><span class="line">                actionBar.newTab()</span><br><span class="line">                        .setText(<span class="string">"Tab "</span> + (i + <span class="number">1</span>))</span><br><span class="line">                        .setTabListener(tabListener));</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p>
<h2 id="滑动view，改变tab">滑动view，改变tab</h2><p>只要调用<code>mViewPager.setCurrentItem()</code>即可：<br><figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="annotation">@Override</span></span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">onCreate</span><span class="params">(Bundle savedInstanceState)</span> </span>&#123;</span><br><span class="line">    ...</span><br><span class="line"></span><br><span class="line">    <span class="comment">// Create a tab listener that is called when the user changes tabs.</span></span><br><span class="line">    ActionBar.TabListener tabListener = <span class="keyword">new</span> ActionBar.TabListener() &#123;</span><br><span class="line">        <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">onTabSelected</span><span class="params">(ActionBar.Tab tab, FragmentTransaction ft)</span> </span>&#123;</span><br><span class="line">            <span class="comment">// When the tab is selected, switch to the</span></span><br><span class="line">            <span class="comment">// corresponding page in the ViewPager.</span></span><br><span class="line">            mViewPager.setCurrentItem(tab.getPosition());</span><br><span class="line">        &#125;</span><br><span class="line">        ...</span><br><span class="line">    &#125;;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="annotation">@Override</span></span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">onCreate</span><span class="params">(Bundle savedInstanceState)</span> </span>&#123;</span><br><span class="line">    ...</span><br><span class="line"></span><br><span class="line">    mViewPager = (ViewPager) findViewById(R.id.pager);</span><br><span class="line">    mViewPager.setOnPageChangeListener(</span><br><span class="line">            <span class="keyword">new</span> ViewPager.SimpleOnPageChangeListener() &#123;</span><br><span class="line">                <span class="annotation">@Override</span></span><br><span class="line">                <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">onPageSelected</span><span class="params">(<span class="keyword">int</span> position)</span> </span>&#123;</span><br><span class="line">                    <span class="comment">// When swiping between pages, select the</span></span><br><span class="line">                    <span class="comment">// corresponding tab.</span></span><br><span class="line">                    getActionBar().setSelectedNavigationItem(position);</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;);</span><br><span class="line">    ...</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h2 id="使用Title_Strip取代tab">使用Title Strip取代tab</h2><figure class="highlight"><table><tr><td class="code"><pre><span class="line">&lt;android.support.v4.view.ViewPager</span><br><span class="line">    xmlns:android="http://schemas.android.com/apk/res/android"</span><br><span class="line">    android:id="@+id/pager"</span><br><span class="line">    android:layout_width="match_parent"</span><br><span class="line">    android:layout_height="match_parent"&gt;</span><br><span class="line"></span><br><span class="line">    &lt;android.support.v4.view.PagerTitleStrip</span><br><span class="line">        android:id="@+id/pager_title_strip"</span><br><span class="line">        android:layout_width="match_parent"</span><br><span class="line">        android:layout_height="wrap_content"</span><br><span class="line">        android:layout_gravity="top"</span><br><span class="line">        android:background="#33b5e5"</span><br><span class="line">        android:textColor="#fff"</span><br><span class="line">        android:paddingTop="4dp"</span><br><span class="line">        android:paddingBottom="4dp" /&gt;</span><br><span class="line"></span><br><span class="line">&lt;/android.support.v4.view.ViewPager&gt;</span><br></pre></td></tr></table></figure>
<p>效果图：<br><img src="http://1.infotravel.sinaapp.com/pic/9.gif" alt="1"></p>
<h1 id="DrawerLayout实现侧滑菜单">DrawerLayout实现侧滑菜单</h1><figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">package</span> me.chenfuduo.navigationdrawer;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> android.content.res.Configuration;</span><br><span class="line"><span class="keyword">import</span> android.os.PersistableBundle;</span><br><span class="line"><span class="keyword">import</span> android.support.v4.app.ActionBarDrawerToggle;</span><br><span class="line"><span class="keyword">import</span> android.support.v4.app.Fragment;</span><br><span class="line"><span class="keyword">import</span> android.support.v4.app.FragmentManager;</span><br><span class="line"><span class="keyword">import</span> android.support.v4.widget.DrawerLayout;</span><br><span class="line"><span class="keyword">import</span> android.support.v7.app.AppCompatActivity;</span><br><span class="line"><span class="keyword">import</span> android.os.Bundle;</span><br><span class="line"><span class="keyword">import</span> android.view.LayoutInflater;</span><br><span class="line"><span class="keyword">import</span> android.view.Menu;</span><br><span class="line"><span class="keyword">import</span> android.view.MenuItem;</span><br><span class="line"><span class="keyword">import</span> android.view.View;</span><br><span class="line"><span class="keyword">import</span> android.view.ViewGroup;</span><br><span class="line"><span class="keyword">import</span> android.widget.AdapterView;</span><br><span class="line"><span class="keyword">import</span> android.widget.ArrayAdapter;</span><br><span class="line"><span class="keyword">import</span> android.widget.ListView;</span><br><span class="line"><span class="keyword">import</span> android.widget.TextView;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">MainActivity</span> <span class="keyword">extends</span> <span class="title">AppCompatActivity</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">private</span> String[] books = <span class="keyword">new</span> String[]&#123;<span class="string">"Chinese"</span>,<span class="string">"Math"</span>,<span class="string">"English"</span>,<span class="string">"Flower"</span>,<span class="string">"Watermalon"</span>&#125;;</span><br><span class="line">    <span class="keyword">private</span> DrawerLayout mDrawerLayout;</span><br><span class="line">    <span class="keyword">private</span> ListView mDrawerList;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">private</span> CharSequence mDrawerTitle;</span><br><span class="line">    <span class="keyword">private</span> CharSequence mTitle;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">private</span> ActionBarDrawerToggle mDrawerToggle;</span><br><span class="line">    <span class="annotation">@Override</span></span><br><span class="line">    <span class="function"><span class="keyword">protected</span> <span class="keyword">void</span> <span class="title">onCreate</span><span class="params">(Bundle savedInstanceState)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">super</span>.onCreate(savedInstanceState);</span><br><span class="line">        setContentView(R.layout.activity_main);</span><br><span class="line">        mTitle = mDrawerTitle = getTitle();</span><br><span class="line">        mDrawerLayout = (DrawerLayout) findViewById(R.id.drawer_layout);</span><br><span class="line">        mDrawerToggle = <span class="keyword">new</span> ActionBarDrawerToggle(<span class="keyword">this</span>,mDrawerLayout,R.mipmap.ic_launcher,</span><br><span class="line">                R.string.drawer_open,R.string.drawer_close)&#123;</span><br><span class="line">            <span class="annotation">@Override</span></span><br><span class="line">            <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">onDrawerClosed</span><span class="params">(View drawerView)</span> </span>&#123;</span><br><span class="line">                <span class="keyword">super</span>.onDrawerClosed(drawerView);</span><br><span class="line">                getSupportActionBar().setTitle(mTitle);</span><br><span class="line">                invalidateOptionsMenu();</span><br><span class="line">            &#125;</span><br><span class="line"></span><br><span class="line">            <span class="annotation">@Override</span></span><br><span class="line">            <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">onDrawerOpened</span><span class="params">(View drawerView)</span> </span>&#123;</span><br><span class="line">                <span class="keyword">super</span>.onDrawerOpened(drawerView);</span><br><span class="line">                getSupportActionBar().setTitle(mDrawerTitle);</span><br><span class="line">                invalidateOptionsMenu();</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;;</span><br><span class="line">        mDrawerLayout.setDrawerListener(mDrawerToggle);</span><br><span class="line">        mDrawerList = (ListView) findViewById(R.id.left_drawer);</span><br><span class="line">        mDrawerList.setAdapter(<span class="keyword">new</span> ArrayAdapter&lt;&gt;(<span class="keyword">this</span>,android.R.layout.simple_list_item_1,android.R.id.text1,books));</span><br><span class="line">        mDrawerList.setOnItemClickListener(<span class="keyword">new</span> AdapterView.OnItemClickListener() &#123;</span><br><span class="line">            <span class="annotation">@Override</span></span><br><span class="line">            <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">onItemClick</span><span class="params">(AdapterView&lt;?&gt; parent, View view, <span class="keyword">int</span> position, <span class="keyword">long</span> id)</span> </span>&#123;</span><br><span class="line">                Fragment bookFragment = <span class="keyword">new</span> BookFragment();</span><br><span class="line">                Bundle bundle = <span class="keyword">new</span> Bundle();</span><br><span class="line">                bundle.putString(BookFragment.MY_ARGS,books[position]);</span><br><span class="line">                bookFragment.setArguments(bundle);</span><br><span class="line">                FragmentManager fragmentManager = getSupportFragmentManager();</span><br><span class="line">                fragmentManager.beginTransaction()</span><br><span class="line">                        .replace(R.id.content_frame,bookFragment)</span><br><span class="line">                        .commit();</span><br><span class="line">                mDrawerList.setItemChecked(position,<span class="keyword">true</span>);</span><br><span class="line">                setTitle(books[position]);</span><br><span class="line">                mDrawerLayout.closeDrawer(mDrawerList);</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;);</span><br><span class="line">        getSupportActionBar().setDisplayHomeAsUpEnabled(<span class="keyword">true</span>);</span><br><span class="line">        getSupportActionBar().setHomeButtonEnabled(<span class="keyword">true</span>);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="annotation">@Override</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">setTitle</span><span class="params">(CharSequence title)</span> </span>&#123;</span><br><span class="line">        mTitle = title;</span><br><span class="line">        getSupportActionBar().setTitle(mTitle);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="class"><span class="keyword">class</span> <span class="title">BookFragment</span> <span class="keyword">extends</span> <span class="title">Fragment</span></span>&#123;</span><br><span class="line">        <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">final</span> String MY_ARGS = <span class="string">"myargs"</span>;</span><br><span class="line"></span><br><span class="line">        <span class="annotation">@Override</span></span><br><span class="line">        <span class="function"><span class="keyword">public</span> View <span class="title">onCreateView</span><span class="params">(LayoutInflater inflater, ViewGroup container, Bundle savedInstanceState)</span> </span>&#123;</span><br><span class="line">            View view = inflater.inflate(R.layout.fragment_item, container, <span class="keyword">false</span>);</span><br><span class="line">            Bundle bundle = getArguments();</span><br><span class="line">            TextView tv = (TextView) view.findViewById(R.id.tv);</span><br><span class="line">            tv.setText(bundle.getString(MY_ARGS));</span><br><span class="line">            <span class="keyword">return</span> view;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">    <span class="annotation">@Override</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">boolean</span> <span class="title">onPrepareOptionsMenu</span><span class="params">(Menu menu)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">boolean</span> drawerOpen = mDrawerLayout.isDrawerOpen(mDrawerList);</span><br><span class="line">        menu.findItem(R.id.action_settings).setVisible(!drawerOpen);</span><br><span class="line">        <span class="keyword">return</span> <span class="keyword">super</span>.onPrepareOptionsMenu(menu);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">    <span class="annotation">@Override</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">onPostCreate</span><span class="params">(Bundle savedInstanceState, PersistableBundle persistentState)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">super</span>.onPostCreate(savedInstanceState, persistentState);</span><br><span class="line">        mDrawerToggle.syncState();</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="annotation">@Override</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">onConfigurationChanged</span><span class="params">(Configuration newConfig)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">super</span>.onConfigurationChanged(newConfig);</span><br><span class="line">        mDrawerToggle.onConfigurationChanged(newConfig);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">    <span class="annotation">@Override</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">boolean</span> <span class="title">onCreateOptionsMenu</span><span class="params">(Menu menu)</span> </span>&#123;</span><br><span class="line">        <span class="comment">// Inflate the menu; this adds items to the action bar if it is present.</span></span><br><span class="line">        getMenuInflater().inflate(R.menu.menu_main, menu);</span><br><span class="line">        <span class="keyword">return</span> <span class="keyword">true</span>;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="annotation">@Override</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">boolean</span> <span class="title">onOptionsItemSelected</span><span class="params">(MenuItem item)</span> </span>&#123;</span><br><span class="line">        <span class="comment">// Handle action bar item clicks here. The action bar will</span></span><br><span class="line">        <span class="comment">// automatically handle clicks on the Home/Up button, so long</span></span><br><span class="line">        <span class="comment">// as you specify a parent activity in AndroidManifest.xml.</span></span><br><span class="line">        <span class="keyword">int</span> id = item.getItemId();</span><br><span class="line">        <span class="keyword">if</span> (mDrawerToggle.onOptionsItemSelected(item))&#123;</span><br><span class="line">            <span class="keyword">return</span> <span class="keyword">true</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="comment">//noinspection SimplifiableIfStatement</span></span><br><span class="line">        <span class="keyword">if</span> (id == R.id.action_settings) &#123;</span><br><span class="line">            <span class="keyword">return</span> <span class="keyword">true</span>;</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="keyword">return</span> <span class="keyword">super</span>.onOptionsItemSelected(item);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>上面的代码在项目中可以直接使用。<br>效果：<br><img src="http://1.infotravel.sinaapp.com/pic/10.gif" alt="1"></p>
<h1 id="提供向上导航">提供向上导航</h1><h2 id="配置清单文件">配置清单文件</h2><figure class="highlight xml"><table><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="title">application</span> <span class="attribute">...</span> &gt;</span></span><br><span class="line">    ...</span><br><span class="line">    <span class="comment">&lt;!-- The main/home activity (it has no parent activity) --&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="title">activity</span></span><br><span class="line">        <span class="attribute">android:name</span>=<span class="value">"com.example.myfirstapp.MainActivity"</span> <span class="attribute">...</span>&gt;</span></span><br><span class="line">        ...</span><br><span class="line">    <span class="tag">&lt;/<span class="title">activity</span>&gt;</span></span><br><span class="line">    <span class="comment">&lt;!-- A child of the main activity --&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="title">activity</span></span><br><span class="line">        <span class="attribute">android:name</span>=<span class="value">"com.example.myfirstapp.DisplayMessageActivity"</span></span><br><span class="line">        <span class="attribute">android:label</span>=<span class="value">"@string/title_activity_display_message"</span></span><br><span class="line">        <span class="attribute">android:parentActivityName</span>=<span class="value">"com.example.myfirstapp.MainActivity"</span> &gt;</span></span><br><span class="line">        <span class="comment">&lt;!-- Parent activity meta-data to support 4.0 and lower --&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="title">meta-data</span></span><br><span class="line">            <span class="attribute">android:name</span>=<span class="value">"android.support.PARENT_ACTIVITY"</span></span><br><span class="line">            <span class="attribute">android:value</span>=<span class="value">"com.example.myfirstapp.MainActivity"</span> /&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="title">activity</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="title">application</span>&gt;</span></span><br></pre></td></tr></table></figure>
<p>4.1以后，不需要配置元数据了。</p>
<h2 id="添加动作">添加动作</h2><figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="annotation">@Override</span></span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">onCreate</span><span class="params">(Bundle savedInstanceState)</span> </span>&#123;</span><br><span class="line">    ...</span><br><span class="line">    getActionBar().setDisplayHomeAsUpEnabled(<span class="keyword">true</span>);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h2 id="导航到父Activity">导航到父Activity</h2><p>可以调用<code>NavUtils.navigateUpFromSameTask(this);</code>，When you call this method, it finishes the current activity and starts (or resumes) the appropriate parent activity. If the target parent activity is in the task’s back stack, it is brought forward. The way it is brought forward depends on whether the parent activity is able to handle an <code>onNewIntent()</code> call:</p>
<ul>
<li>If the parent activity has launch mode <code>&lt;singleTop&gt;</code>, or the <code>up</code> intent contains<code>FLAG_ACTIVITY_CLEAR_TOP</code>, the parent activity is brought to the top of the stack, and receives the intent through its <code>onNewIntent()</code> method.</li>
<li>If the parent activity has launch mode <code>&lt;standard&gt;</code>, and the <code>up</code> intent does not contain <code>FLAG_ACTIVITY_CLEAR_TOP</code>, the parent activity is popped off the stack, and a new instance of that activity is created on top of the stack to receive the intent.<br>可以这样做测试，在onCreate()中添加打印语句：<figure class="highlight java"><table><tr><td class="code"><pre><span class="line">Log.e(<span class="string">"Test"</span>, <span class="string">"MainActivity:onCreate():"</span> + <span class="keyword">this</span>.getTaskId());</span><br></pre></td></tr></table></figure>
</li>
</ul>
<h2 id="新的回退栈导航">新的回退栈导航</h2><p>这样的场景，当前的Activity配置了相应的Intent-Filter，当其他应用启动该Activity后，返回，那么，就是这样的场景。<br><figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="annotation">@Override</span></span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">boolean</span> <span class="title">onOptionsItemSelected</span><span class="params">(MenuItem item)</span> </span>&#123;</span><br><span class="line">    <span class="keyword">switch</span> (item.getItemId()) &#123;</span><br><span class="line">    <span class="comment">// Respond to the action bar's Up/Home button</span></span><br><span class="line">    <span class="keyword">case</span> android.R.id.home:</span><br><span class="line">        Intent upIntent = NavUtils.getParentActivityIntent(<span class="keyword">this</span>);</span><br><span class="line">        <span class="keyword">if</span> (NavUtils.shouldUpRecreateTask(<span class="keyword">this</span>, upIntent)) &#123;</span><br><span class="line">            <span class="comment">// This activity is NOT part of this app's task, so create a new task</span></span><br><span class="line">            <span class="comment">// when navigating up, with a synthesized back stack.</span></span><br><span class="line">            TaskStackBuilder.create(<span class="keyword">this</span>)</span><br><span class="line">                    <span class="comment">// Add all of this activity's parents to the back stack</span></span><br><span class="line">                    .addNextIntentWithParentStack(upIntent)</span><br><span class="line">                    <span class="comment">// Navigate up to the closest parent</span></span><br><span class="line">                    .startActivities();</span><br><span class="line">        &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">            <span class="comment">// This activity is part of this app's task, so simply</span></span><br><span class="line">            <span class="comment">// navigate up to the logical parent activity.</span></span><br><span class="line">            NavUtils.navigateUpTo(<span class="keyword">this</span>, upIntent);</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> <span class="keyword">true</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> <span class="keyword">super</span>.onOptionsItemSelected(item);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p>
<blockquote>
<p>In order for the addNextIntentWithParentStack() method to work, you must declare the logical parent of each activity in your manifest file, using the android:parentActivityName attribute (and corresponding <meta-data> element) as described above.</meta-data></p>
</blockquote>
<h1 id="提供合适的返回的导航">提供合适的返回的导航</h1><p>提到的三个场景，一个是Notification，一个是Fragment，一个是WebView</p>
<h2 id="Notification">Notification</h2><figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="comment">// Intent for the activity to open when user selects the notification</span></span><br><span class="line">Intent detailsIntent = <span class="keyword">new</span> Intent(<span class="keyword">this</span>, DetailsActivity.class);</span><br><span class="line"></span><br><span class="line"><span class="comment">// Use TaskStackBuilder to build the back stack and get the PendingIntent</span></span><br><span class="line">PendingIntent pendingIntent =</span><br><span class="line">        TaskStackBuilder.create(<span class="keyword">this</span>)</span><br><span class="line">                        <span class="comment">// add all of DetailsActivity's parents to the stack,</span></span><br><span class="line">                        <span class="comment">// followed by DetailsActivity itself</span></span><br><span class="line">                        .addNextIntentWithParentStack(upIntent)</span><br><span class="line">                        .getPendingIntent(<span class="number">0</span>, PendingIntent.FLAG_UPDATE_CURRENT);</span><br><span class="line"></span><br><span class="line">NotificationCompat.Builder builder = <span class="keyword">new</span> NotificationCompat.Builder(<span class="keyword">this</span>);</span><br><span class="line">builder.setContentIntent(pendingIntent);</span><br></pre></td></tr></table></figure>
<blockquote>
<p>需要配置清单文件</p>
</blockquote>
<h2 id="Fragemnt">Fragemnt</h2><p>这个比较常见<br><figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="comment">// Works with either the framework FragmentManager or the</span></span><br><span class="line"><span class="comment">// support package FragmentManager (getSupportFragmentManager).</span></span><br><span class="line">getSupportFragmentManager().beginTransaction()</span><br><span class="line">                           .add(detailFragment, <span class="string">"detail"</span>)</span><br><span class="line">                           <span class="comment">// Add this transaction to the back stack</span></span><br><span class="line">                           .addToBackStack()</span><br><span class="line">                           .commit();</span><br></pre></td></tr></table></figure></p>
<h2 id="WebView">WebView</h2><figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="annotation">@Override</span></span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">onBackPressed</span><span class="params">()</span> </span>&#123;</span><br><span class="line">    <span class="keyword">if</span> (mWebView.canGoBack()) &#123;</span><br><span class="line">        mWebView.goBack();</span><br><span class="line">        <span class="keyword">return</span>;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// Otherwise defer to system default behavior.</span></span><br><span class="line">    <span class="keyword">super</span>.onBackPressed();</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>比较悲催，昨天已经写好的，但是弄丢了，今天大致的重写了一下，主要还是参考demo。<br><a href="https://github.com/leerduo/NavigationDemo" target="_blank" rel="external">自己写的源码</a><br><a href="https://github.com/leerduo/NavigationsDemo" target="_blank" rel="external">官方的源码</a></p>
  
	</div>
		<footer class="article-footer clearfix">
<div class="article-catetags">

<div class="article-categories">
  <span></span>
  <a class="article-category-link" href="/categories/移动开发/">移动开发</a>
</div>


  <div class="article-tags">
  
  <span></span> <a href="/tags/移动开发/">移动开发</a>
  </div>

</div>



	<div class="article-share" id="share">
	
	  <div data-url="http://chenfuduo.me/2015/06/25/training-for-the-fifth-part/" data-title="training for the fifth part | louis.chen" data-tsina="2338582935" class="share clearfix">
	  </div>
	
	</div>


</footer>

   	       
	</article>
	
<nav class="article-nav clearfix">
 
 <div class="prev" >
 <a href="/2015/06/25/training-for-the-sixth-part/" title="training for the sixth part">
  <strong>上一篇：</strong><br/>
  <span>
  training for the sixth part</span>
</a>
</div>


<div class="next">
<a href="/2015/06/23/training-for-the-fourth-part/"  title="training for the fourth part">
 <strong>下一篇：</strong><br/> 
 <span>training for the fourth part
</span>
</a>
</div>

</nav>

	
<section id="comments" class="comment">
	<div class="ds-thread" data-thread-key="2015/06/25/training-for-the-fifth-part/" data-title="training for the fifth part" data-url="http://chenfuduo.me/2015/06/25/training-for-the-fifth-part/"></div>
</section>


</div>  
      <div class="openaside"><a class="navbutton" href="#" title="显示侧边栏"></a></div>

  <div id="toc" class="toc-aside">
  <strong class="toc-title">文章目录</strong>
 
 <ol class="toc"><li class="toc-item toc-level-1"><a class="toc-link" href="#创建带有tab可滑动的view"><span class="toc-number">1.</span> <span class="toc-text">创建带有tab可滑动的view</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#创建可滑动的view"><span class="toc-number">1.1.</span> <span class="toc-text">创建可滑动的view</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#添加tabs到ActionBar上"><span class="toc-number">1.2.</span> <span class="toc-text">添加tabs到ActionBar上</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#滑动view，改变tab"><span class="toc-number">1.3.</span> <span class="toc-text">滑动view，改变tab</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#使用Title_Strip取代tab"><span class="toc-number">1.4.</span> <span class="toc-text">使用Title Strip取代tab</span></a></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#DrawerLayout实现侧滑菜单"><span class="toc-number">2.</span> <span class="toc-text">DrawerLayout实现侧滑菜单</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#提供向上导航"><span class="toc-number">3.</span> <span class="toc-text">提供向上导航</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#配置清单文件"><span class="toc-number">3.1.</span> <span class="toc-text">配置清单文件</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#添加动作"><span class="toc-number">3.2.</span> <span class="toc-text">添加动作</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#导航到父Activity"><span class="toc-number">3.3.</span> <span class="toc-text">导航到父Activity</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#新的回退栈导航"><span class="toc-number">3.4.</span> <span class="toc-text">新的回退栈导航</span></a></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#提供合适的返回的导航"><span class="toc-number">4.</span> <span class="toc-text">提供合适的返回的导航</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#Notification"><span class="toc-number">4.1.</span> <span class="toc-text">Notification</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Fragemnt"><span class="toc-number">4.2.</span> <span class="toc-text">Fragemnt</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#WebView"><span class="toc-number">4.3.</span> <span class="toc-text">WebView</span></a></li></ol></li></ol>
 
  </div>

<div id="asidepart">
<div class="closeaside"><a class="closebutton" href="#" title="隐藏侧边栏"></a></div>
<aside class="clearfix">

  
<div class="categorieslist">
	<p class="asidetitle">分类</p>
		<ul>
		
		  
			<li><a href="/categories/JVM/" title="JVM">JVM<sup>2</sup></a></li>
		  
		
		  
			<li><a href="/categories/MFC/" title="MFC">MFC<sup>1</sup></a></li>
		  
		
		  
			<li><a href="/categories/收藏/" title="收藏">收藏<sup>1</sup></a></li>
		  
		
		  
		
		  
			<li><a href="/categories/源码学习/" title="源码学习">源码学习<sup>5</sup></a></li>
		  
		
		  
			<li><a href="/categories/生活/" title="生活">生活<sup>2</sup></a></li>
		  
		
		  
			<li><a href="/categories/移动开发/" title="移动开发">移动开发<sup>28</sup></a></li>
		  
		
		  
			<li><a href="/categories/算法/" title="算法">算法<sup>36</sup></a></li>
		  
		
		</ul>
</div>


  
<div class="tagslist">
	<p class="asidetitle">标签</p>
		<ul class="clearfix">
		
			
				<li><a href="/tags/算法/" title="算法">算法<sup>36</sup></a></li>
			
		
			
				<li><a href="/tags/移动开发/" title="移动开发">移动开发<sup>28</sup></a></li>
			
		
			
				<li><a href="/tags/源码学习/" title="源码学习">源码学习<sup>5</sup></a></li>
			
		
			
				<li><a href="/tags/生活/" title="生活">生活<sup>2</sup></a></li>
			
		
			
				<li><a href="/tags/JVM/" title="JVM">JVM<sup>2</sup></a></li>
			
		
			
				<li><a href="/tags/收藏/" title="收藏">收藏<sup>1</sup></a></li>
			
		
			
				<li><a href="/tags/MFC/" title="MFC">MFC<sup>1</sup></a></li>
			
		
		</ul>
</div>


  <div class="linkslist">
  <p class="asidetitle">友情链接</p>
    <ul>
        
          <li>
            
            	<a href="http://www.vogella.com/tutorials/android.html" target="_blank" title="Vogella">Vogella</a>
            
          </li>
        
    </ul>
</div>

  <div class="weiboshow">
  <p class="asidetitle">新浪微博</p>
    <iframe width="100%" height="119" class="share_self"  frameborder="0" scrolling="no" src="http://widget.weibo.com/weiboshow/index.php?language=&width=0&height=119&fansRow=2&ptype=1&speed=0&skin=9&isTitle=1&noborder=1&isWeibo=0&isFans=0&uid=2338582935&verifier=59b78413&dpc=1"></iframe>
</div>


  <div class="rsspart">
	<a href="/atom.xml" target="_blank" title="rss">RSS 订阅</a>
</div>

</aside>
</div>
    </div>
    <footer><div id="footer" >
	
	<div class="line">
		<span></span>
		<div class="author"></div>
	</div>
	
	
	<section class="info">
		<p> louis.chen,student of USTC,Focus on mobile develop. <br/>
			It is my amibition to make beautiful apps.</p>
	</section>
	 
	<div class="social-font" class="clearfix">
		
		<a href="http://weibo.com/2338582935" target="_blank" class="icon-weibo" title="微博"></a>
		
		
		<a href="https://github.com/leerduo" target="_blank" class="icon-github" title="github"></a>
		
		
		
		
		
		
		
		
		
	</div>
			
		

		<p class="copyright">
		Powered by <a href="http://hexo.io" target="_blank" title="hexo">hexo</a> and Theme by <a href="https://github.com/wuchong/jacman" target="_blank" title="Jacman">Jacman</a> © 2015 
		
		<a href="/about" target="_blank" title="louis.chen">louis.chen</a>
		
		
		</p>
</div>
</footer>
    <script src="/js/jquery-2.0.3.min.js"></script>
<script src="/js/jquery.imagesloaded.min.js"></script>
<script src="/js/gallery.js"></script>

<script type="text/javascript">
$(document).ready(function(){ 
  $('.navbar').click(function(){
    $('header nav').toggleClass('shownav');
  });
  var myWidth = 0;
  function getSize(){
    if( typeof( window.innerWidth ) == 'number' ) {
      myWidth = window.innerWidth;
    } else if( document.documentElement && document.documentElement.clientWidth) {
      myWidth = document.documentElement.clientWidth;
    };
  };
  var m = $('#main'),
      a = $('#asidepart'),
      c = $('.closeaside'),
      o = $('.openaside');
  c.click(function(){
    a.addClass('fadeOut').css('display', 'none');
    o.css('display', 'block').addClass('fadeIn');
    m.addClass('moveMain');
  });
  o.click(function(){
    o.css('display', 'none').removeClass('beforeFadeIn');
    a.css('display', 'block').removeClass('fadeOut').addClass('fadeIn');      
    m.removeClass('moveMain');
  });
  $(window).scroll(function(){
    o.css("top",Math.max(80,260-$(this).scrollTop()));
  });
  
        getSize();
        if (myWidth >= 1024) {
          c.click();
        }
  
  $(window).resize(function(){
    getSize(); 
    if (myWidth >= 1024) {
      $('header nav').removeClass('shownav');
    }else{
      m.removeClass('moveMain');
      a.css('display', 'block').removeClass('fadeOut');
      o.css('display', 'none');
      
      $('#toc.toc-aside').css('display', 'none');
        
    }
  });
});
</script>

<script type="text/javascript">
$(document).ready(function(){ 
  var ai = $('.article-content>iframe'),
      ae = $('.article-content>embed'),
      t  = $('#toc'),
      ta = $('#toc.toc-aside'),
      o  = $('.openaside'),
      c  = $('.closeaside');
  if(ai.length>0){
    ai.wrap('<div class="video-container" />');
  };
  if(ae.length>0){
   ae.wrap('<div class="video-container" />');
  };
  c.click(function(){
    ta.css('display', 'block').addClass('fadeIn');
  });
  o.click(function(){
    ta.css('display', 'none');
  });
  $(window).scroll(function(){
    ta.css("top",Math.max(140,320-$(this).scrollTop()));
  });
});
</script>


<script type="text/javascript">
$(document).ready(function(){ 
  var $this = $('.share'),
      url = $this.attr('data-url'),
      encodedUrl = encodeURIComponent(url),
      title = $this.attr('data-title'),
      tsina = $this.attr('data-tsina'),
      description = $this.attr('description');
  var html = [
  '<a href="#" class="overlay" id="qrcode"></a>',
  '<div class="qrcode clearfix"><span>扫描二维码分享到微信朋友圈</span><a class="qrclose" href="#nothing"></a><strong>Loading...Please wait</strong><img id="qrcode-pic" data-src="http://s.jiathis.com/qrcode.php?url=' + encodedUrl + '"/></div>',
  '<a href="https://www.facebook.com/sharer.php?u=' + encodedUrl + '" class="article-share-facebook" target="_blank" title="Facebook"></a>',
  '<a href="https://twitter.com/intent/tweet?url=' + encodedUrl + '" class="article-share-twitter" target="_blank" title="Twitter"></a>',
  '<a href="#qrcode" class="article-share-qrcode" title="微信"></a>',
  '<a href="http://widget.renren.com/dialog/share?resourceUrl=' + encodedUrl + '&srcUrl=' + encodedUrl + '&title=' + title +'" class="article-share-renren" target="_blank" title="人人"></a>',
  '<a href="http://service.weibo.com/share/share.php?title='+title+'&url='+encodedUrl +'&ralateUid='+ tsina +'&searchPic=true&style=number' +'" class="article-share-weibo" target="_blank" title="微博"></a>',
  '<span title="Share to"></span>'
  ].join('');
  $this.append(html);
  $('.article-share-qrcode').click(function(){
    var imgSrc = $('#qrcode-pic').attr('data-src');
    $('#qrcode-pic').attr('src', imgSrc);
    $('#qrcode-pic').load(function(){
        $('.qrcode strong').text(' ');
    });
  });
});     
</script>



<script type="text/javascript">
  var duoshuoQuery = {short_name:"chenlouis"};
  (function() {
    var ds = document.createElement('script');
    ds.type = 'text/javascript';ds.async = true;
    ds.src = '//static.duoshuo.com/embed.js';
    ds.charset = 'UTF-8';
    (document.getElementsByTagName('head')[0] 
    || document.getElementsByTagName('body')[0]).appendChild(ds);
  })();
</script> 







<link rel="stylesheet" href="/fancybox/jquery.fancybox.css" media="screen" type="text/css">
<script src="/fancybox/jquery.fancybox.pack.js"></script>
<script type="text/javascript">
$(document).ready(function(){ 
  $('.article-content').each(function(i){
    $(this).find('img').each(function(){
      if ($(this).parent().hasClass('fancybox')) return;
      var alt = this.alt;
      if (alt) $(this).after('<span class="caption">' + alt + '</span>');
      $(this).wrap('<a href="' + this.src + '" title="' + alt + '" class="fancybox"></a>');
    });
    $(this).find('.fancybox').each(function(){
      $(this).attr('rel', 'article' + i);
    });
  });
  if($.fancybox){
    $('.fancybox').fancybox();
  }
}); 
</script>



<!-- Analytics Begin -->



<script type="text/javascript">
var _bdhmProtocol = (("https:" == document.location.protocol) ? " https://" : " http://");
document.write(unescape("%3Cscript src='" + _bdhmProtocol + "hm.baidu.com/h.js%3F63c029dba1e367df2c8ffa39a309056a' type='text/javascript'%3E%3C/script%3E"));
</script>



<!-- Analytics End -->

<!-- Totop Begin -->

	<div id="totop">
	<a title="返回顶部"><img src="/img/scrollup.png"/></a>
	</div>
	<script src="/js/totop.js"></script>

<!-- Totop End -->

<!-- MathJax Begin -->
<!-- mathjax config similar to math.stackexchange -->


<!-- MathJax End -->

<!-- Tiny_search Begin -->

<!-- Tiny_search End -->

  </body>
</html>
