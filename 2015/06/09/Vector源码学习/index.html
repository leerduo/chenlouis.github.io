
 <!DOCTYPE HTML>
<html lang="zh-CN">
<head>
  <meta charset="UTF-8">
  
    <title>Vector源码学习 | louis.chen</title>
    <meta name="viewport" content="width=device-width, initial-scale=1,user-scalable=no">
    
    <meta name="author" content="louis.chen">
    

    
    <meta name="description" content="Vector是List接口的一个基于数组的实现，是一个动态数组，其容量能自动增长，类似于ArrayList，但是Vector是同步的，因此性能上有所牺牲。在并发的情况下，同样可以选择位于java.util.concurrent包下的CopyOnWriteArrayList。">
<meta property="og:type" content="article">
<meta property="og:title" content="Vector源码学习">
<meta property="og:url" content="http://chenfuduo.me/2015/06/09/Vector源码学习/index.html">
<meta property="og:site_name" content="louis.chen">
<meta property="og:description" content="Vector是List接口的一个基于数组的实现，是一个动态数组，其容量能自动增长，类似于ArrayList，但是Vector是同步的，因此性能上有所牺牲。在并发的情况下，同样可以选择位于java.util.concurrent包下的CopyOnWriteArrayList。">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="Vector源码学习">
<meta name="twitter:description" content="Vector是List接口的一个基于数组的实现，是一个动态数组，其容量能自动增长，类似于ArrayList，但是Vector是同步的，因此性能上有所牺牲。在并发的情况下，同样可以选择位于java.util.concurrent包下的CopyOnWriteArrayList。">

    
    <link rel="alternative" href="/atom.xml" title="louis.chen" type="application/atom+xml">
    
    
    <link rel="icon" href="/img/favicon.ico">
    
    
    <link rel="apple-touch-icon" href="/img/jacman.jpg">
    <link rel="apple-touch-icon-precomposed" href="/img/jacman.jpg">
    
    <link rel="stylesheet" href="/css/style.css" type="text/css">
</head>

  <body>
    <header>
      
<div>
		
			<div id="imglogo">
				<a href="/"><img src="/img/logo.svg" alt="louis.chen" title="louis.chen"/></a>
			</div>
			
			<div id="textlogo">
				<h1 class="site-name"><a href="/" title="louis.chen">louis.chen</a></h1>
				<h2 class="blog-motto">纸上得来终觉浅,绝知此事要躬行。</h2>
			</div>
			<div class="navbar"><a class="navbutton navmobile" href="#" title="菜单">
			</a></div>
			<nav class="animated">
				<ul>
					<ul>
					 
						<li><a href="/">首页</a></li>
					
						<li><a href="/archives">归档</a></li>
					
						<li><a href="/project">项目</a></li>
					
						<li><a href="/about">关于</a></li>
					
					<li>
 					
					<form class="search" action="//google.com/search" method="get" accept-charset="utf-8">
						<label>Search</label>
						<input type="search" id="search" name="q" autocomplete="off" maxlength="20" placeholder="搜索" />
						<input type="hidden" name="q" value="site:chenfuduo.me">
					</form>
					
					</li>
				</ul>
			</nav>			
</div>
    </header>
    <div id="container">
      <div id="main" class="post" itemscope itemprop="blogPost">
  
	<article itemprop="articleBody"> 
		<header class="article-info clearfix">
  <h1 itemprop="name">
    
      <a href="/2015/06/09/Vector源码学习/" title="Vector源码学习" itemprop="url">Vector源码学习</a>
  </h1>
  <p class="article-author">By
       
		<a href="/about" title="louis.chen" target="_blank" itemprop="author">louis.chen</a>
		
  <p class="article-time">
    <time datetime="2015-06-09T06:10:19.000Z" itemprop="datePublished"> 发表于 2015-06-09</time>
    
  </p>
</header>
	<div class="article-content">
		
		<div id="toc" class="toc-article">
			<strong class="toc-title">文章目录</strong>
		
			<ol class="toc"><li class="toc-item toc-level-1"><a class="toc-link" href="#开头的注释"><span class="toc-number">1.</span> <span class="toc-text">开头的注释</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#实现的接口"><span class="toc-number">2.</span> <span class="toc-text">实现的接口</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#Vector的自动扩容机制"><span class="toc-number">3.</span> <span class="toc-text">Vector的自动扩容机制</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#移除元素，克隆和包含"><span class="toc-number">4.</span> <span class="toc-text">移除元素，克隆和包含</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#复制Vector中的元素到数组"><span class="toc-number">5.</span> <span class="toc-text">复制Vector中的元素到数组</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#返回指定位置的元素"><span class="toc-number">6.</span> <span class="toc-text">返回指定位置的元素</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#返回当前Vector元素的枚举"><span class="toc-number">7.</span> <span class="toc-text">返回当前Vector元素的枚举</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#确保Vector的容量"><span class="toc-number">8.</span> <span class="toc-text">确保Vector的容量</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#重写equals方法"><span class="toc-number">9.</span> <span class="toc-text">重写equals方法</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#从Vector中取元素"><span class="toc-number">10.</span> <span class="toc-text">从Vector中取元素</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#重写hashCode()方法"><span class="toc-number">11.</span> <span class="toc-text">重写hashCode()方法</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#取得元素的索引"><span class="toc-number">12.</span> <span class="toc-text">取得元素的索引</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#插入元素"><span class="toc-number">13.</span> <span class="toc-text">插入元素</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#判空和取得最后一个元素"><span class="toc-number">14.</span> <span class="toc-text">判空和取得最后一个元素</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#移除元素"><span class="toc-number">15.</span> <span class="toc-text">移除元素</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#求其与collection的交集"><span class="toc-number">16.</span> <span class="toc-text">求其与collection的交集</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#设置元素"><span class="toc-number">17.</span> <span class="toc-text">设置元素</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#运行时异常"><span class="toc-number">18.</span> <span class="toc-text">运行时异常</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#设定Vector中元素的个数"><span class="toc-number">19.</span> <span class="toc-text">设定Vector中元素的个数</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#返回元素个数"><span class="toc-number">20.</span> <span class="toc-text">返回元素个数</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#返回指定范围的List"><span class="toc-number">21.</span> <span class="toc-text">返回指定范围的List</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#返回当前元素的数组"><span class="toc-number">22.</span> <span class="toc-text">返回当前元素的数组</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#重写的toString()"><span class="toc-number">23.</span> <span class="toc-text">重写的toString()</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#将当前容量调整到元素数量大小"><span class="toc-number">24.</span> <span class="toc-text">将当前容量调整到元素数量大小</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#序列化"><span class="toc-number">25.</span> <span class="toc-text">序列化</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#总结"><span class="toc-number">26.</span> <span class="toc-text">总结</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#源代码"><span class="toc-number">27.</span> <span class="toc-text">源代码</span></a></li></ol>
		
		</div>
		
		<p>Vector是List接口的一个基于数组的实现，是一个动态数组，其容量能自动增长，类似于ArrayList，但是Vector是同步的，因此性能上有所牺牲。在并发的情况下，同样可以选择位于java.util.concurrent包下的<code>CopyOnWriteArrayList</code>。<br><a id="more"></a></p>
<h1 id="开头的注释">开头的注释</h1><figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="javadoc">/**</span><br><span class="line"> * Vector is an implementation of &#123;@link List&#125;, backed by an array and synchronized.</span><br><span class="line"> * All optional operations including adding, removing, and replacing elements are supported.</span><br><span class="line"> *</span><br><span class="line"> * &lt;p&gt;All elements are permitted, including null.</span><br><span class="line"> *</span><br><span class="line"> * &lt;p&gt;This class is equivalent to &#123;@link ArrayList&#125; with synchronized operations. This has a</span><br><span class="line"> * performance cost, and the synchronization is not necessarily meaningful to your application:</span><br><span class="line"> * synchronizing each call to &#123;@code get&#125;, for example, is not equivalent to synchronizing on the</span><br><span class="line"> * list and iterating over it (which is probably what you intended). If you do need very highly</span><br><span class="line"> * concurrent access, you should also consider &#123;@link java.util.concurrent.CopyOnWriteArrayList&#125;.</span><br><span class="line"> *</span><br><span class="line"> *<span class="javadoctag"> @param</span> &lt;E&gt; The element type of this list.</span><br><span class="line"> */</span></span><br></pre></td></tr></table></figure>
<p>Vector是List接口的实现类，基于数组，并且是同步的。<br>支持的操作包括<code>添加，移除和替换</code>.<br>所有的元素都是允许的，包括null.<br>当ArrayList在同步下的操作时，Vector和ArrayList是一样的。同步带来了性能的损耗，可能对你的应用来说毫无意义。例如，同步每一次调用的get()方法，并不等同于同步list和遍历(这可能是你使用同步的意图)，位于java.util.concurrent包下的<code>CopyOnWriteArrayList</code>为那种高并发，频繁性的的遍历特殊场合而设计。</p>
<h1 id="实现的接口">实现的接口</h1><figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Vector</span>&lt;<span class="title">E</span>&gt; <span class="keyword">extends</span> <span class="title">AbstractList</span>&lt;<span class="title">E</span>&gt; <span class="keyword">implements</span> <span class="title">List</span>&lt;<span class="title">E</span>&gt;,</span><br><span class="line">        <span class="title">RandomAccess</span>, <span class="title">Cloneable</span>, <span class="title">Serializable</span> </span>&#123;&#125;</span><br></pre></td></tr></table></figure>
<p>和ArrayList一样的，继承自AbstractList，并且实现了Cloneable接口，所以能被克隆；实现了Serializable接口，因此它支持序列化，能够通过序列化传输；实现了RandomAccess接口，支持快速随机访问，实际上就是通过下标序号进行快速访问。</p>
<h1 id="Vector的自动扩容机制">Vector的自动扩容机制</h1><figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">private</span> <span class="keyword">static</span> <span class="keyword">final</span> <span class="keyword">long</span> serialVersionUID = -<span class="number">2767605614048989439L</span>;</span><br><span class="line"></span><br><span class="line">   <span class="javadoc">/**</span><br><span class="line">    * The number of elements or the size of the vector.</span><br><span class="line"> * Vector中的元素的数量</span><br><span class="line">    */</span></span><br><span class="line">   <span class="keyword">protected</span> <span class="keyword">int</span> elementCount;</span><br><span class="line"></span><br><span class="line">   <span class="javadoc">/**</span><br><span class="line">    * The elements of the vector. </span><br><span class="line"> * Vector中存储数据的数组，Object类型的数组</span><br><span class="line">    */</span></span><br><span class="line">   <span class="keyword">protected</span> Object[] elementData;</span><br><span class="line"></span><br><span class="line">   <span class="javadoc">/**</span><br><span class="line">    * How many elements should be added to the vector when it is detected that</span><br><span class="line">    * it needs to grow to accommodate extra entries. If this value is zero or</span><br><span class="line">    * negative the size will be doubled if an increase is needed.</span><br><span class="line"> * 当Vector需要增加容量的时候，用来确定增量的因子。如果该值为0或者为负值</span><br><span class="line"> * 将把原大小加倍</span><br><span class="line">    */</span></span><br><span class="line">   <span class="keyword">protected</span> <span class="keyword">int</span> capacityIncrement;</span><br><span class="line"><span class="comment">//默认容量</span></span><br><span class="line">   <span class="keyword">private</span> <span class="keyword">static</span> <span class="keyword">final</span> <span class="keyword">int</span> DEFAULT_SIZE = <span class="number">10</span>;</span><br><span class="line"></span><br><span class="line">   <span class="javadoc">/**</span><br><span class="line">    * Constructs a new vector using the default capacity.</span><br><span class="line"> * 使用默认容量创建Vector</span><br><span class="line">    */</span></span><br><span class="line">   <span class="function"><span class="keyword">public</span> <span class="title">Vector</span><span class="params">()</span> </span>&#123;</span><br><span class="line">       <span class="keyword">this</span>(DEFAULT_SIZE, <span class="number">0</span>);</span><br><span class="line">   &#125;</span><br><span class="line"></span><br><span class="line">   <span class="javadoc">/**</span><br><span class="line">    * Constructs a new vector using the specified capacity.</span><br><span class="line"> * 使用指定capacity的大小创建Vector，当capacity为负值的时候，</span><br><span class="line"> * 抛出IllegalArgumentException的异常</span><br><span class="line">    *</span><br><span class="line">    *<span class="javadoctag"> @param</span> capacity</span><br><span class="line">    *            the initial capacity of the new vector.</span><br><span class="line">    *<span class="javadoctag"> @throws</span> IllegalArgumentException</span><br><span class="line">    *             if &#123;@code capacity&#125; is negative.</span><br><span class="line">    */</span></span><br><span class="line">   <span class="function"><span class="keyword">public</span> <span class="title">Vector</span><span class="params">(<span class="keyword">int</span> capacity)</span> </span>&#123;</span><br><span class="line">       <span class="keyword">this</span>(capacity, <span class="number">0</span>);</span><br><span class="line">   &#125;</span><br><span class="line"></span><br><span class="line">   <span class="javadoc">/**</span><br><span class="line">    * Constructs a new vector using the specified capacity and capacity</span><br><span class="line">    * increment.</span><br><span class="line"> * 根据指定的大小容量和容量因子创建Vector</span><br><span class="line">    *</span><br><span class="line">    *<span class="javadoctag"> @param</span> capacity</span><br><span class="line">    *            the initial capacity of the new vector.</span><br><span class="line">    *<span class="javadoctag"> @param</span> capacityIncrement</span><br><span class="line">    *            the amount to increase the capacity when this vector is full.</span><br><span class="line">    *<span class="javadoctag"> @throws</span> IllegalArgumentException</span><br><span class="line">    *             if &#123;@code capacity&#125; is negative.</span><br><span class="line">    */</span></span><br><span class="line">   <span class="function"><span class="keyword">public</span> <span class="title">Vector</span><span class="params">(<span class="keyword">int</span> capacity, <span class="keyword">int</span> capacityIncrement)</span> </span>&#123;</span><br><span class="line">       <span class="keyword">if</span> (capacity &lt; <span class="number">0</span>) &#123;</span><br><span class="line">           <span class="keyword">throw</span> <span class="keyword">new</span> IllegalArgumentException(<span class="string">"capacity &lt; 0: "</span> + capacity);</span><br><span class="line">       &#125;</span><br><span class="line">       elementData = newElementArray(capacity);</span><br><span class="line">       elementCount = <span class="number">0</span>;</span><br><span class="line">       <span class="keyword">this</span>.capacityIncrement = capacityIncrement;</span><br><span class="line">   &#125;</span><br><span class="line"></span><br><span class="line">   <span class="javadoc">/**</span><br><span class="line">    * Constructs a new instance of &#123;@code Vector&#125; containing the elements in</span><br><span class="line">    * &#123;@code collection&#125;. The order of the elements in the new &#123;@code Vector&#125;</span><br><span class="line">    * is dependent on the iteration order of the seed collection.</span><br><span class="line"> * 根据Collection来创建一个新的Vector实例对象，Vector中的元素顺序与Collection</span><br><span class="line">    * 中的iterator顺序保持一致。因为在向Vector中添加元素的时候是按照collection的</span><br><span class="line"> * iterator遍历顺序添加的</span><br><span class="line">    *<span class="javadoctag"> @param</span> collection</span><br><span class="line">    *            the collection of elements to add.</span><br><span class="line">    */</span></span><br><span class="line">   <span class="function"><span class="keyword">public</span> <span class="title">Vector</span><span class="params">(Collection&lt;? extends E&gt; collection)</span> </span>&#123;</span><br><span class="line">       <span class="keyword">this</span>(collection.size(), <span class="number">0</span>);</span><br><span class="line">       Iterator&lt;? extends E&gt; it = collection.iterator();</span><br><span class="line">       <span class="keyword">while</span> (it.hasNext()) &#123;</span><br><span class="line">           elementData[elementCount++] = it.next();</span><br><span class="line">       &#125;</span><br><span class="line">   &#125;</span><br><span class="line"></span><br><span class="line">   <span class="annotation">@SuppressWarnings</span>(<span class="string">"unchecked"</span>)</span><br><span class="line">   <span class="keyword">private</span> E[] newElementArray(<span class="keyword">int</span> size) &#123;</span><br><span class="line">       <span class="keyword">return</span> (E[]) <span class="keyword">new</span> Object[size];</span><br><span class="line">   &#125;</span><br><span class="line"></span><br><span class="line">   <span class="javadoc">/**</span><br><span class="line">    * Adds the specified object into this vector at the specified location. The</span><br><span class="line">    * object is inserted before any element with the same or a higher index</span><br><span class="line">    * increasing their index by 1. If the location is equal to the size of this</span><br><span class="line">    * vector, the object is added at the end.</span><br><span class="line"> * 将元素添加到Vector中的指定位置，Vector中当前位置及其以后位置的元素都将</span><br><span class="line">    * 依次后移。如果指定位置与Vector的元素数量相同，那么将把元素添加到末位。</span><br><span class="line">    * 该方法也为同步的 ，因为其调用的方法为同步的。</span><br><span class="line">    *</span><br><span class="line">    *<span class="javadoctag"> @param</span> location</span><br><span class="line">    *            the index at which to insert the element.</span><br><span class="line">    *<span class="javadoctag"> @param</span> object</span><br><span class="line">    *            the object to insert in this vector.</span><br><span class="line">    *<span class="javadoctag"> @throws</span> ArrayIndexOutOfBoundsException</span><br><span class="line">    *                if &#123;@code location &lt; 0 || location &gt; size()&#125;.</span><br><span class="line">    *<span class="javadoctag"> @see</span> #addElement</span><br><span class="line">    *<span class="javadoctag"> @see</span> #size</span><br><span class="line">    */</span></span><br><span class="line">   <span class="annotation">@Override</span></span><br><span class="line">   <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">add</span><span class="params">(<span class="keyword">int</span> location, E object)</span> </span>&#123;</span><br><span class="line">       insertElementAt(object, location);</span><br><span class="line">   &#125;</span><br><span class="line"></span><br><span class="line">   <span class="javadoc">/**</span><br><span class="line">    * Adds the specified object at the end of this vector.</span><br><span class="line">    * 将元素添加到Vector的末位</span><br><span class="line">    *<span class="javadoctag"> @param</span> object</span><br><span class="line">    *            the object to add to the vector.</span><br><span class="line">    *<span class="javadoctag"> @return</span> &#123;@code true&#125;</span><br><span class="line">    */</span></span><br><span class="line">   <span class="annotation">@Override</span></span><br><span class="line">   <span class="function"><span class="keyword">public</span> <span class="keyword">synchronized</span> <span class="keyword">boolean</span> <span class="title">add</span><span class="params">(E object)</span> </span>&#123;</span><br><span class="line">       <span class="keyword">if</span> (elementCount == elementData.length) &#123;</span><br><span class="line">           growByOne();</span><br><span class="line">       &#125;</span><br><span class="line">       elementData[elementCount++] = object;</span><br><span class="line">       modCount++;</span><br><span class="line">       <span class="keyword">return</span> <span class="keyword">true</span>;</span><br><span class="line">   &#125;</span><br><span class="line"></span><br><span class="line">   <span class="javadoc">/**</span><br><span class="line">    * Inserts the objects in the specified collection at the specified location</span><br><span class="line">    * in this vector. The objects are inserted in the order in which they are</span><br><span class="line">    * returned from the Collection iterator. The elements with an index equal</span><br><span class="line">    * or higher than &#123;@code location&#125; have their index increased by the size of</span><br><span class="line">    * the added collection.</span><br><span class="line">    * 从Vector指定位置开始，将collection的所有元素添加到Vector。</span><br><span class="line">    * Vector指定位置的原有元素及其后面的元素都将一次向后移动等同于</span><br><span class="line">    * collection的元素数量大小的位置。</span><br><span class="line">    *<span class="javadoctag"> @param</span> location</span><br><span class="line">    *            the location to insert the objects.</span><br><span class="line">    *<span class="javadoctag"> @param</span> collection</span><br><span class="line">    *            the collection of objects.</span><br><span class="line">    *<span class="javadoctag"> @return</span> &#123;@code true&#125; if this vector is modified, &#123;@code false&#125; otherwise.</span><br><span class="line">    *<span class="javadoctag"> @throws</span> ArrayIndexOutOfBoundsException</span><br><span class="line">    *                if &#123;@code location &lt; 0&#125; or &#123;@code location &gt; size()&#125;.</span><br><span class="line">    */</span></span><br><span class="line">   <span class="annotation">@Override</span></span><br><span class="line">   <span class="function"><span class="keyword">public</span> <span class="keyword">synchronized</span> <span class="keyword">boolean</span> <span class="title">addAll</span><span class="params">(<span class="keyword">int</span> location, Collection&lt;? extends E&gt; collection)</span> </span>&#123;</span><br><span class="line">       <span class="keyword">if</span> (location &gt;= <span class="number">0</span> &amp;&amp; location &lt;= elementCount) &#123;</span><br><span class="line">           <span class="keyword">int</span> size = collection.size();</span><br><span class="line">           <span class="keyword">if</span> (size == <span class="number">0</span>) &#123;</span><br><span class="line">               <span class="keyword">return</span> <span class="keyword">false</span>;</span><br><span class="line">           &#125;</span><br><span class="line">           <span class="keyword">int</span> required = size - (elementData.length - elementCount);</span><br><span class="line">           <span class="keyword">if</span> (required &gt; <span class="number">0</span>) &#123;</span><br><span class="line">               growBy(required);</span><br><span class="line">           &#125;</span><br><span class="line">           <span class="keyword">int</span> count = elementCount - location;</span><br><span class="line">           <span class="keyword">if</span> (count &gt; <span class="number">0</span>) &#123;</span><br><span class="line">               System.arraycopy(elementData, location, elementData, location</span><br><span class="line">                       + size, count);</span><br><span class="line">           &#125;</span><br><span class="line">           Iterator&lt;? extends E&gt; it = collection.iterator();</span><br><span class="line">           <span class="keyword">while</span> (it.hasNext()) &#123;</span><br><span class="line">               elementData[location++] = it.next();</span><br><span class="line">           &#125;</span><br><span class="line">           elementCount += size;</span><br><span class="line">           modCount++;</span><br><span class="line">           <span class="keyword">return</span> <span class="keyword">true</span>;</span><br><span class="line">       &#125;</span><br><span class="line">       <span class="keyword">throw</span> arrayIndexOutOfBoundsException(location, elementCount);</span><br><span class="line">   &#125;</span><br><span class="line"></span><br><span class="line">   <span class="javadoc">/**</span><br><span class="line">    * Adds the objects in the specified collection to the end of this vector.</span><br><span class="line">    * 将collection的所有元素依次添加到Vector的末位。</span><br><span class="line">    *<span class="javadoctag"> @param</span> collection</span><br><span class="line">    *            the collection of objects.</span><br><span class="line">    *<span class="javadoctag"> @return</span> &#123;@code true&#125; if this vector is modified, &#123;@code false&#125; otherwise.</span><br><span class="line">    */</span></span><br><span class="line">   <span class="annotation">@Override</span></span><br><span class="line">   <span class="function"><span class="keyword">public</span> <span class="keyword">synchronized</span> <span class="keyword">boolean</span> <span class="title">addAll</span><span class="params">(Collection&lt;? extends E&gt; collection)</span> </span>&#123;</span><br><span class="line">       <span class="keyword">return</span> addAll(elementCount, collection);</span><br><span class="line">   &#125;</span><br><span class="line"></span><br><span class="line">   <span class="javadoc">/**</span><br><span class="line">    * Adds the specified object at the end of this vector.</span><br><span class="line"> * 将元素添加到Vector的末尾</span><br><span class="line">    *</span><br><span class="line">    *<span class="javadoctag"> @param</span> object</span><br><span class="line">    *            the object to add to the vector.</span><br><span class="line">    */</span></span><br><span class="line">   <span class="function"><span class="keyword">public</span> <span class="keyword">synchronized</span> <span class="keyword">void</span> <span class="title">addElement</span><span class="params">(E object)</span> </span>&#123;</span><br><span class="line">       <span class="keyword">if</span> (elementCount == elementData.length) &#123;</span><br><span class="line">           growByOne();</span><br><span class="line">       &#125;</span><br><span class="line">       elementData[elementCount++] = object;</span><br><span class="line">       modCount++;</span><br><span class="line">   &#125;</span><br><span class="line"></span><br><span class="line">   <span class="javadoc">/**</span><br><span class="line">    * Returns the number of elements this vector can hold without growing.</span><br><span class="line"> * 返回当前Vector的容量，即当前数组的长度</span><br><span class="line">    * 并非当前元素的数量</span><br><span class="line">    *<span class="javadoctag"> @return</span> the capacity of this vector.</span><br><span class="line">    *<span class="javadoctag"> @see</span> #ensureCapacity</span><br><span class="line">    *<span class="javadoctag"> @see</span> #size</span><br><span class="line">    */</span></span><br><span class="line">   <span class="function"><span class="keyword">public</span> <span class="keyword">synchronized</span> <span class="keyword">int</span> <span class="title">capacity</span><span class="params">()</span> </span>&#123;</span><br><span class="line">       <span class="keyword">return</span> elementData.length;</span><br><span class="line">   &#125;</span><br></pre></td></tr></table></figure>
<p>下面的这段代码我将其也归为容量扩充机制里面：<br><figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="comment">//将Vevtor的容量变为指定值</span></span><br><span class="line"> <span class="function"><span class="keyword">private</span> <span class="keyword">void</span> <span class="title">grow</span><span class="params">(<span class="keyword">int</span> newCapacity)</span> </span>&#123;</span><br><span class="line">        E[] newData = newElementArray(newCapacity);</span><br><span class="line">        <span class="comment">// Assumes elementCount is &lt;= newCapacity</span></span><br><span class="line">        <span class="comment">// assert elementCount &lt;= newCapacity;</span></span><br><span class="line">        System.arraycopy(elementData, <span class="number">0</span>, newData, <span class="number">0</span>, elementCount);</span><br><span class="line">        elementData = newData;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="javadoc">/**</span><br><span class="line">     * JIT optimization</span><br><span class="line">	 * 当前容量进行一次增长</span><br><span class="line">     * 如果增量因子不大于0，而且当前容量为0，那么将容量增长一位。</span><br><span class="line">     * 如果增量因子大于0，那么将在原有容量的基础上增加增量因子的大小。</span><br><span class="line">	 * </span><br><span class="line">     */</span></span><br><span class="line">    <span class="function"><span class="keyword">private</span> <span class="keyword">void</span> <span class="title">growByOne</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        <span class="keyword">int</span> adding = <span class="number">0</span>;</span><br><span class="line">        <span class="keyword">if</span> (capacityIncrement &lt;= <span class="number">0</span>) &#123;</span><br><span class="line">            <span class="keyword">if</span> ((adding = elementData.length) == <span class="number">0</span>) &#123;</span><br><span class="line">                adding = <span class="number">1</span>;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">            adding = capacityIncrement;</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        E[] newData = newElementArray(elementData.length + adding);</span><br><span class="line">        System.arraycopy(elementData, <span class="number">0</span>, newData, <span class="number">0</span>, elementCount);</span><br><span class="line">        elementData = newData;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="comment">//根据指定的大小进行Vector容量的增长</span></span><br><span class="line">    <span class="comment">//如果增量因子非正且原容量为0，那么直接增长指定大小的数量</span></span><br><span class="line">    <span class="comment">//如果增量因子非正原容量不为0，那么增量将为 </span></span><br><span class="line">    <span class="comment">//将原容量直接翻倍，直到其不小于指定数值。</span></span><br><span class="line">    <span class="comment">//</span></span><br><span class="line">    <span class="comment">//增量因子大于0，如果指定值大于增量因子，则增加值为指定值除以增量因子</span></span><br><span class="line">    <span class="comment">//的倍数再乘以增量因子（取得整数倍）</span></span><br><span class="line">    <span class="comment">//否则增加量为增量因子的值。</span></span><br><span class="line">    <span class="comment">//</span></span><br><span class="line">    <span class="function"><span class="keyword">private</span> <span class="keyword">void</span> <span class="title">growBy</span><span class="params">(<span class="keyword">int</span> required)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">int</span> adding = <span class="number">0</span>;</span><br><span class="line">        <span class="keyword">if</span> (capacityIncrement &lt;= <span class="number">0</span>) &#123;</span><br><span class="line">            <span class="keyword">if</span> ((adding = elementData.length) == <span class="number">0</span>) &#123;</span><br><span class="line">                adding = required;</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="keyword">while</span> (adding &lt; required) &#123;</span><br><span class="line">                adding += adding;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">            adding = (required / capacityIncrement) * capacityIncrement;</span><br><span class="line">            <span class="keyword">if</span> (adding &lt; required) &#123;</span><br><span class="line">                adding += capacityIncrement;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        E[] newData = newElementArray(elementData.length + adding);</span><br><span class="line">        System.arraycopy(elementData, <span class="number">0</span>, newData, <span class="number">0</span>, elementCount);</span><br><span class="line">        elementData = newData;</span><br><span class="line">    &#125;</span><br></pre></td></tr></table></figure></p>
<h1 id="移除元素，克隆和包含">移除元素，克隆和包含</h1><figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="javadoc">/**</span><br><span class="line"> * 移除Vector中的所有元素，使其为空</span><br><span class="line"> */</span></span><br><span class="line"><span class="annotation">@Override</span></span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">clear</span><span class="params">()</span> </span>&#123;</span><br><span class="line">    removeAllElements();</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="javadoc">/**</span><br><span class="line"> * clone当前的Vector。</span><br><span class="line"> */</span></span><br><span class="line"><span class="annotation">@Override</span></span><br><span class="line"><span class="annotation">@SuppressWarnings</span>(<span class="string">"unchecked"</span>)</span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">synchronized</span> Object <span class="title">clone</span><span class="params">()</span> </span>&#123;</span><br><span class="line">    <span class="keyword">try</span> &#123;</span><br><span class="line">        Vector&lt;E&gt; vector = (Vector&lt;E&gt;) <span class="keyword">super</span>.clone();</span><br><span class="line">        vector.elementData = elementData.clone();</span><br><span class="line">        <span class="keyword">return</span> vector;</span><br><span class="line">    &#125; <span class="keyword">catch</span> (CloneNotSupportedException e) &#123;</span><br><span class="line">        <span class="keyword">throw</span> <span class="keyword">new</span> AssertionError(e);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="javadoc">/**</span><br><span class="line"> * 查询当前Vector是否包含特定元素。</span><br><span class="line"> */</span></span><br><span class="line"><span class="annotation">@Override</span></span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">boolean</span> <span class="title">contains</span><span class="params">(Object object)</span> </span>&#123;</span><br><span class="line">    <span class="keyword">return</span> indexOf(object, <span class="number">0</span>) != -<span class="number">1</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="javadoc">/**</span><br><span class="line"> * 查询当前Vector是否包含collection中的所有元素</span><br><span class="line"> */</span></span><br><span class="line"><span class="annotation">@Override</span></span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">synchronized</span> <span class="keyword">boolean</span> <span class="title">containsAll</span><span class="params">(Collection&lt;?&gt; collection)</span> </span>&#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="keyword">super</span>.containsAll(collection);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h1 id="复制Vector中的元素到数组">复制Vector中的元素到数组</h1><figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="javadoc">/**</span><br><span class="line">    * Attempts to copy elements contained by this &#123;@code Vector&#125; into the</span><br><span class="line">    * corresponding elements of the supplied &#123;@code Object&#125; array.</span><br><span class="line">    * 尝试将Vector中所有元素复制到给定的数组里。如果指定的数组的长度不够，将抛出：</span><br><span class="line"> * IndexOutOfBoundsException</span><br><span class="line">    *<span class="javadoctag"> @param</span> elements</span><br><span class="line">    *            the &#123;@code Object&#125; array into which the elements of this</span><br><span class="line">    *            vector are copied.</span><br><span class="line">    *<span class="javadoctag"> @throws</span> IndexOutOfBoundsException</span><br><span class="line">    *             if &#123;@code elements&#125; is not big enough.</span><br><span class="line">    *<span class="javadoctag"> @see</span> #clone</span><br><span class="line">    */</span></span><br><span class="line">   <span class="function"><span class="keyword">public</span> <span class="keyword">synchronized</span> <span class="keyword">void</span> <span class="title">copyInto</span><span class="params">(Object[] elements)</span> </span>&#123;</span><br><span class="line">       System.arraycopy(elementData, <span class="number">0</span>, elements, <span class="number">0</span>, elementCount);</span><br><span class="line">   &#125;</span><br></pre></td></tr></table></figure>
<h1 id="返回指定位置的元素">返回指定位置的元素</h1><figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="javadoc">/**</span><br><span class="line">    * Returns the element at the specified location in this vector.</span><br><span class="line">    *</span><br><span class="line">    *<span class="javadoctag"> @param</span> location</span><br><span class="line">    *            the index of the element to return in this vector.</span><br><span class="line">    *<span class="javadoctag"> @return</span> the element at the specified location.</span><br><span class="line">    *<span class="javadoctag"> @throws</span> ArrayIndexOutOfBoundsException</span><br><span class="line">    *                if &#123;@code location &lt; 0 || location &gt;= size()&#125;.</span><br><span class="line">    *<span class="javadoctag"> @see</span> #size</span><br><span class="line">    */</span></span><br><span class="line">   <span class="annotation">@SuppressWarnings</span>(<span class="string">"unchecked"</span>)</span><br><span class="line">   <span class="function"><span class="keyword">public</span> <span class="keyword">synchronized</span> E <span class="title">elementAt</span><span class="params">(<span class="keyword">int</span> location)</span> </span>&#123;</span><br><span class="line">       <span class="keyword">if</span> (location &lt; elementCount) &#123;</span><br><span class="line">           <span class="keyword">return</span> (E) elementData[location];</span><br><span class="line">       &#125;</span><br><span class="line">       <span class="keyword">throw</span> arrayIndexOutOfBoundsException(location, elementCount);</span><br><span class="line">   &#125;</span><br></pre></td></tr></table></figure>
<h1 id="返回当前Vector元素的枚举">返回当前Vector元素的枚举</h1><figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="javadoc">/**</span><br><span class="line">     * Returns an enumeration on the elements of this vector. The results of the</span><br><span class="line">     * enumeration may be affected if the contents of this vector is modified.</span><br><span class="line">     * 返回当前Vector元素的枚举，修改Vector元素的值时将会影响该枚举</span><br><span class="line">     *<span class="javadoctag"> @return</span> an enumeration of the elements of this vector.</span><br><span class="line">     *<span class="javadoctag"> @see</span> #elementAt</span><br><span class="line">     *<span class="javadoctag"> @see</span> Enumeration</span><br><span class="line">     */</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> Enumeration&lt;E&gt; <span class="title">elements</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="keyword">new</span> Enumeration&lt;E&gt;() &#123;</span><br><span class="line">            <span class="keyword">int</span> pos = <span class="number">0</span>;</span><br><span class="line"></span><br><span class="line">            <span class="function"><span class="keyword">public</span> <span class="keyword">boolean</span> <span class="title">hasMoreElements</span><span class="params">()</span> </span>&#123;</span><br><span class="line">                <span class="keyword">return</span> pos &lt; elementCount;</span><br><span class="line">            &#125;</span><br><span class="line"></span><br><span class="line">            <span class="annotation">@SuppressWarnings</span>(<span class="string">"unchecked"</span>)</span><br><span class="line">            <span class="function"><span class="keyword">public</span> E <span class="title">nextElement</span><span class="params">()</span> </span>&#123;</span><br><span class="line">                <span class="keyword">synchronized</span> (Vector.<span class="keyword">this</span>) &#123;</span><br><span class="line">                    <span class="keyword">if</span> (pos &lt; elementCount) &#123;</span><br><span class="line">                        <span class="keyword">return</span> (E) elementData[pos++];</span><br><span class="line">                    &#125;</span><br><span class="line">                &#125;</span><br><span class="line">                <span class="keyword">throw</span> <span class="keyword">new</span> NoSuchElementException();</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;;</span><br><span class="line">    &#125;</span><br></pre></td></tr></table></figure>
<h1 id="确保Vector的容量">确保Vector的容量</h1><figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="javadoc">/**</span><br><span class="line">   * Ensures that this vector can hold the specified number of elements</span><br><span class="line">   * without growing.</span><br><span class="line">   * 确保Vector的容量不小于给定值</span><br><span class="line">   *<span class="javadoctag"> @param</span> minimumCapacity</span><br><span class="line">   *            the minimum number of elements that this vector will hold</span><br><span class="line">   *            before growing.</span><br><span class="line">   *<span class="javadoctag"> @see</span> #capacity</span><br><span class="line">   */</span></span><br><span class="line">  <span class="function"><span class="keyword">public</span> <span class="keyword">synchronized</span> <span class="keyword">void</span> <span class="title">ensureCapacity</span><span class="params">(<span class="keyword">int</span> minimumCapacity)</span> </span>&#123;</span><br><span class="line">      <span class="keyword">if</span> (elementData.length &lt; minimumCapacity) &#123;</span><br><span class="line">          <span class="keyword">int</span> next = (capacityIncrement &lt;= <span class="number">0</span> ? elementData.length</span><br><span class="line">                  : capacityIncrement)</span><br><span class="line">                  + elementData.length;</span><br><span class="line">          grow(minimumCapacity &gt; next ? minimumCapacity : next);</span><br><span class="line">      &#125;</span><br><span class="line">  &#125;</span><br></pre></td></tr></table></figure>
<h1 id="重写equals方法">重写equals方法</h1><figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="javadoc">/**</span><br><span class="line">     * Compares the specified object to this vector and returns if they are</span><br><span class="line">     * equal. The object must be a List which contains the same objects in the</span><br><span class="line">     * same order.</span><br><span class="line">     * 重写equals方法用于比较</span><br><span class="line">     * 先比较对象是否相等</span><br><span class="line">     * 然后判断对象是否为List</span><br><span class="line">     * 再比较List的元素数量</span><br><span class="line">     * 最后依次比较每个位置的元素是否相同。</span><br><span class="line">     *<span class="javadoctag"> @param</span> object</span><br><span class="line">     *            the object to compare with this object</span><br><span class="line">     *<span class="javadoctag"> @return</span> &#123;@code true&#125; if the specified object is equal to this vector,</span><br><span class="line">     *         &#123;@code false&#125; otherwise.</span><br><span class="line">     *<span class="javadoctag"> @see</span> #hashCode</span><br><span class="line">     */</span></span><br><span class="line">    <span class="annotation">@Override</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">synchronized</span> <span class="keyword">boolean</span> <span class="title">equals</span><span class="params">(Object object)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">if</span> (<span class="keyword">this</span> == object) &#123;</span><br><span class="line">            <span class="keyword">return</span> <span class="keyword">true</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">if</span> (object <span class="keyword">instanceof</span> List) &#123;</span><br><span class="line">            List&lt;?&gt; list = (List&lt;?&gt;) object;</span><br><span class="line">            <span class="keyword">if</span> (list.size() != elementCount) &#123;</span><br><span class="line">                <span class="keyword">return</span> <span class="keyword">false</span>;</span><br><span class="line">            &#125;</span><br><span class="line"></span><br><span class="line">            <span class="keyword">int</span> index = <span class="number">0</span>;</span><br><span class="line">            Iterator&lt;?&gt; it = list.iterator();</span><br><span class="line">            <span class="keyword">while</span> (it.hasNext()) &#123;</span><br><span class="line">                Object e1 = elementData[index++], e2 = it.next();</span><br><span class="line">                <span class="keyword">if</span> (!(e1 == <span class="keyword">null</span> ? e2 == <span class="keyword">null</span> : e1.equals(e2))) &#123;</span><br><span class="line">                    <span class="keyword">return</span> <span class="keyword">false</span>;</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="keyword">return</span> <span class="keyword">true</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> <span class="keyword">false</span>;</span><br><span class="line">    &#125;</span><br></pre></td></tr></table></figure>
<h1 id="从Vector中取元素">从Vector中取元素</h1><figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="javadoc">/**</span><br><span class="line">     * Returns the first element in this vector.</span><br><span class="line">     * 返回当前Vector的首元素</span><br><span class="line">     *<span class="javadoctag"> @return</span> the element at the first position.</span><br><span class="line">     *<span class="javadoctag"> @throws</span> NoSuchElementException</span><br><span class="line">     *                if this vector is empty.</span><br><span class="line">     *<span class="javadoctag"> @see</span> #elementAt</span><br><span class="line">     *<span class="javadoctag"> @see</span> #lastElement</span><br><span class="line">     *<span class="javadoctag"> @see</span> #size</span><br><span class="line">     */</span></span><br><span class="line">    <span class="annotation">@SuppressWarnings</span>(<span class="string">"unchecked"</span>)</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">synchronized</span> E <span class="title">firstElement</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        <span class="keyword">if</span> (elementCount &gt; <span class="number">0</span>) &#123;</span><br><span class="line">            <span class="keyword">return</span> (E) elementData[<span class="number">0</span>];</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">throw</span> <span class="keyword">new</span> NoSuchElementException();</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="javadoc">/**</span><br><span class="line">     * Returns the element at the specified location in this vector.</span><br><span class="line">     * 返回Vector中指定位置的元素</span><br><span class="line">     *<span class="javadoctag"> @param</span> location</span><br><span class="line">     *            the index of the element to return in this vector.</span><br><span class="line">     *<span class="javadoctag"> @return</span> the element at the specified location.</span><br><span class="line">     *<span class="javadoctag"> @throws</span> ArrayIndexOutOfBoundsException</span><br><span class="line">     *                if &#123;@code location &lt; 0 || location &gt;= size()&#125;.</span><br><span class="line">     *<span class="javadoctag"> @see</span> #size</span><br><span class="line">     */</span></span><br><span class="line">    <span class="annotation">@Override</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> E <span class="title">get</span><span class="params">(<span class="keyword">int</span> location)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> elementAt(location);</span><br><span class="line">    &#125;</span><br></pre></td></tr></table></figure>
<h1 id="重写hashCode()方法">重写hashCode()方法</h1><figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="javadoc">/**</span><br><span class="line">   * Returns an integer hash code for the receiver. Objects which are equal</span><br><span class="line">   * return the same value for this method.</span><br><span class="line">   * (这个方法是同步的)</span><br><span class="line">   *<span class="javadoctag"> @return</span> the receiver's hash.</span><br><span class="line">   *<span class="javadoctag"> @see</span> #equals</span><br><span class="line">   */</span></span><br><span class="line">  <span class="annotation">@Override</span></span><br><span class="line">  <span class="function"><span class="keyword">public</span> <span class="keyword">synchronized</span> <span class="keyword">int</span> <span class="title">hashCode</span><span class="params">()</span> </span>&#123;</span><br><span class="line">      <span class="keyword">int</span> result = <span class="number">1</span>;</span><br><span class="line">      <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; elementCount; i++) &#123;</span><br><span class="line">          result = (<span class="number">31</span> * result)</span><br><span class="line">                  + (elementData[i] == <span class="keyword">null</span> ? <span class="number">0</span> : elementData[i].hashCode());</span><br><span class="line">      &#125;</span><br><span class="line">      <span class="keyword">return</span> result;</span><br><span class="line">  &#125;</span><br></pre></td></tr></table></figure>
<h1 id="取得元素的索引">取得元素的索引</h1><figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="javadoc">/**</span><br><span class="line">     * Searches in this vector for the index of the specified object. The search</span><br><span class="line">     * for the object starts at the beginning and moves towards the end of this</span><br><span class="line">     * vector.</span><br><span class="line">     * 返回特定元素的角标值，将从Vector的开始位置一直向后到结束位置进行查找</span><br><span class="line">     *<span class="javadoctag"> @param</span> object</span><br><span class="line">     *            the object to find in this vector.</span><br><span class="line">     *<span class="javadoctag"> @return</span> the index in this vector of the specified element, -1 if the</span><br><span class="line">     *         element isn't found.</span><br><span class="line">     *<span class="javadoctag"> @see</span> #contains</span><br><span class="line">     *<span class="javadoctag"> @see</span> #lastIndexOf(Object)</span><br><span class="line">     *<span class="javadoctag"> @see</span> #lastIndexOf(Object, int)</span><br><span class="line">     */</span></span><br><span class="line">    <span class="annotation">@Override</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">indexOf</span><span class="params">(Object object)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> indexOf(object, <span class="number">0</span>);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="javadoc">/**</span><br><span class="line">     * Searches in this vector for the index of the specified object. The search</span><br><span class="line">     * for the object starts at the specified location and moves towards the end</span><br><span class="line">     * of this vector.</span><br><span class="line">     * 返回特定元素的角标值，将从Vector的开始位置一直向后到结束位置进行查找</span><br><span class="line">     *<span class="javadoctag"> @param</span> object</span><br><span class="line">     *            the object to find in this vector.</span><br><span class="line">     *<span class="javadoctag"> @param</span> location</span><br><span class="line">     *            the index at which to start searching.</span><br><span class="line">     *<span class="javadoctag"> @return</span> the index in this vector of the specified element, -1 if the</span><br><span class="line">     *         element isn't found.</span><br><span class="line">     *<span class="javadoctag"> @throws</span> ArrayIndexOutOfBoundsException</span><br><span class="line">     *                if &#123;@code location &lt; 0&#125;.</span><br><span class="line">     *<span class="javadoctag"> @see</span> #contains</span><br><span class="line">     *<span class="javadoctag"> @see</span> #lastIndexOf(Object)</span><br><span class="line">     *<span class="javadoctag"> @see</span> #lastIndexOf(Object, int)</span><br><span class="line">     */</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">synchronized</span> <span class="keyword">int</span> <span class="title">indexOf</span><span class="params">(Object object, <span class="keyword">int</span> location)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">if</span> (object != <span class="keyword">null</span>) &#123;</span><br><span class="line">            <span class="keyword">for</span> (<span class="keyword">int</span> i = location; i &lt; elementCount; i++) &#123;</span><br><span class="line">                <span class="keyword">if</span> (object.equals(elementData[i])) &#123;</span><br><span class="line">                    <span class="keyword">return</span> i;</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">            <span class="keyword">for</span> (<span class="keyword">int</span> i = location; i &lt; elementCount; i++) &#123;</span><br><span class="line">                <span class="keyword">if</span> (elementData[i] == <span class="keyword">null</span>) &#123;</span><br><span class="line">                    <span class="keyword">return</span> i;</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> -<span class="number">1</span>;</span><br><span class="line">    &#125;</span><br><span class="line">	</span><br><span class="line">	 <span class="javadoc">/**</span><br><span class="line">     * Searches in this vector for the index of the specified object. The search</span><br><span class="line">     * for the object starts at the end and moves towards the start of this</span><br><span class="line">     * vector.</span><br><span class="line">     * 返回指定元素的角标值，从尾部向Vector开头反向查找。</span><br><span class="line">     *<span class="javadoctag"> @param</span> object</span><br><span class="line">     *            the object to find in this vector.</span><br><span class="line">     *<span class="javadoctag"> @return</span> the index in this vector of the specified element, -1 if the</span><br><span class="line">     *         element isn't found.</span><br><span class="line">     *<span class="javadoctag"> @see</span> #contains</span><br><span class="line">     *<span class="javadoctag"> @see</span> #indexOf(Object)</span><br><span class="line">     *<span class="javadoctag"> @see</span> #indexOf(Object, int)</span><br><span class="line">     */</span></span><br><span class="line">    <span class="annotation">@Override</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">synchronized</span> <span class="keyword">int</span> <span class="title">lastIndexOf</span><span class="params">(Object object)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> lastIndexOf(object, elementCount - <span class="number">1</span>);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="javadoc">/**</span><br><span class="line">     * Searches in this vector for the index of the specified object. The search</span><br><span class="line">     * for the object starts at the specified location and moves towards the</span><br><span class="line">     * start of this vector.</span><br><span class="line">     * 返回指定元素的角标值，从指定位置开始向Vector开头反向查找。</span><br><span class="line">     *<span class="javadoctag"> @param</span> object</span><br><span class="line">     *            the object to find in this vector.</span><br><span class="line">     *<span class="javadoctag"> @param</span> location</span><br><span class="line">     *            the index at which to start searching.</span><br><span class="line">     *<span class="javadoctag"> @return</span> the index in this vector of the specified element, -1 if the</span><br><span class="line">     *         element isn't found.</span><br><span class="line">     *<span class="javadoctag"> @throws</span> ArrayIndexOutOfBoundsException</span><br><span class="line">     *                if &#123;@code location &gt;= size()&#125;.</span><br><span class="line">     *<span class="javadoctag"> @see</span> #contains</span><br><span class="line">     *<span class="javadoctag"> @see</span> #indexOf(Object)</span><br><span class="line">     *<span class="javadoctag"> @see</span> #indexOf(Object, int)</span><br><span class="line">     */</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">synchronized</span> <span class="keyword">int</span> <span class="title">lastIndexOf</span><span class="params">(Object object, <span class="keyword">int</span> location)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">if</span> (location &lt; elementCount) &#123;</span><br><span class="line">            <span class="keyword">if</span> (object != <span class="keyword">null</span>) &#123;</span><br><span class="line">                <span class="keyword">for</span> (<span class="keyword">int</span> i = location; i &gt;= <span class="number">0</span>; i--) &#123;</span><br><span class="line">                    <span class="keyword">if</span> (object.equals(elementData[i])) &#123;</span><br><span class="line">                        <span class="keyword">return</span> i;</span><br><span class="line">                    &#125;</span><br><span class="line">                &#125;</span><br><span class="line">            &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">                <span class="keyword">for</span> (<span class="keyword">int</span> i = location; i &gt;= <span class="number">0</span>; i--) &#123;</span><br><span class="line">                    <span class="keyword">if</span> (elementData[i] == <span class="keyword">null</span>) &#123;</span><br><span class="line">                        <span class="keyword">return</span> i;</span><br><span class="line">                    &#125;</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="keyword">return</span> -<span class="number">1</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">throw</span> arrayIndexOutOfBoundsException(location, elementCount);</span><br><span class="line">    &#125;</span><br></pre></td></tr></table></figure>
<h1 id="插入元素">插入元素</h1><figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="javadoc">/**</span><br><span class="line">   * Inserts the specified object into this vector at the specified location.</span><br><span class="line">   * This object is inserted before any previous element at the specified</span><br><span class="line">   * location. All elements with an index equal or greater than</span><br><span class="line">   * &#123;@code location&#125; have their index increased by 1. If the location is</span><br><span class="line">   * equal to the size of this vector, the object is added at the end.</span><br><span class="line">   * add(location,object)调用的方法</span><br><span class="line">   *<span class="javadoctag"> @param</span> object</span><br><span class="line">   *            the object to insert in this vector.</span><br><span class="line">   *<span class="javadoctag"> @param</span> location</span><br><span class="line">   *            the index at which to insert the element.</span><br><span class="line">   *<span class="javadoctag"> @throws</span> ArrayIndexOutOfBoundsException</span><br><span class="line">   *                if &#123;@code location &lt; 0 || location &gt; size()&#125;.</span><br><span class="line">   *<span class="javadoctag"> @see</span> #addElement</span><br><span class="line">   *<span class="javadoctag"> @see</span> #size</span><br><span class="line">   */</span></span><br><span class="line">  <span class="function"><span class="keyword">public</span> <span class="keyword">synchronized</span> <span class="keyword">void</span> <span class="title">insertElementAt</span><span class="params">(E object, <span class="keyword">int</span> location)</span> </span>&#123;</span><br><span class="line">      <span class="keyword">if</span> (location &gt;= <span class="number">0</span> &amp;&amp; location &lt;= elementCount) &#123;</span><br><span class="line">          <span class="keyword">if</span> (elementCount == elementData.length) &#123;</span><br><span class="line">              growByOne();</span><br><span class="line">          &#125;</span><br><span class="line">          <span class="keyword">int</span> count = elementCount - location;</span><br><span class="line">          <span class="keyword">if</span> (count &gt; <span class="number">0</span>) &#123;</span><br><span class="line">              System.arraycopy(elementData, location, elementData,</span><br><span class="line">                      location + <span class="number">1</span>, count);</span><br><span class="line">          &#125;</span><br><span class="line">          elementData[location] = object;</span><br><span class="line">          elementCount++;</span><br><span class="line">          modCount++;</span><br><span class="line">      &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">          <span class="keyword">throw</span> arrayIndexOutOfBoundsException(location, elementCount);</span><br><span class="line">      &#125;</span><br><span class="line">  &#125;</span><br></pre></td></tr></table></figure>
<h1 id="判空和取得最后一个元素">判空和取得最后一个元素</h1><figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="javadoc">/**</span><br><span class="line">    * Returns if this vector has no elements, a size of zero.</span><br><span class="line">    *</span><br><span class="line">    *<span class="javadoctag"> @return</span> &#123;@code true&#125; if this vector has no elements, &#123;@code false&#125;</span><br><span class="line">    *         otherwise.</span><br><span class="line">    *<span class="javadoctag"> @see</span> #size</span><br><span class="line">    */</span></span><br><span class="line">   <span class="annotation">@Override</span></span><br><span class="line">   <span class="function"><span class="keyword">public</span> <span class="keyword">synchronized</span> <span class="keyword">boolean</span> <span class="title">isEmpty</span><span class="params">()</span> </span>&#123;</span><br><span class="line">       <span class="keyword">return</span> elementCount == <span class="number">0</span>;</span><br><span class="line">   &#125;</span><br><span class="line"></span><br><span class="line">   <span class="javadoc">/**</span><br><span class="line">    * Returns the last element in this vector.</span><br><span class="line">    *</span><br><span class="line">    *<span class="javadoctag"> @return</span> the element at the last position.</span><br><span class="line">    *<span class="javadoctag"> @throws</span> NoSuchElementException</span><br><span class="line">    *                if this vector is empty.</span><br><span class="line">    *<span class="javadoctag"> @see</span> #elementAt</span><br><span class="line">    *<span class="javadoctag"> @see</span> #firstElement</span><br><span class="line">    *<span class="javadoctag"> @see</span> #size</span><br><span class="line">    */</span></span><br><span class="line">   <span class="annotation">@SuppressWarnings</span>(<span class="string">"unchecked"</span>)</span><br><span class="line">   <span class="function"><span class="keyword">public</span> <span class="keyword">synchronized</span> E <span class="title">lastElement</span><span class="params">()</span> </span>&#123;</span><br><span class="line">       <span class="keyword">try</span> &#123;</span><br><span class="line">           <span class="keyword">return</span> (E) elementData[elementCount - <span class="number">1</span>];</span><br><span class="line">       &#125; <span class="keyword">catch</span> (IndexOutOfBoundsException e) &#123;</span><br><span class="line">           <span class="keyword">throw</span> <span class="keyword">new</span> NoSuchElementException();</span><br><span class="line">       &#125;</span><br><span class="line">   &#125;</span><br></pre></td></tr></table></figure>
<h1 id="移除元素">移除元素</h1><figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="javadoc">/**</span><br><span class="line">     * Removes the object at the specified location from this vector. All</span><br><span class="line">     * elements with an index bigger than &#123;@code location&#125; have their index</span><br><span class="line">     * decreased by 1.</span><br><span class="line">     * 移除指定位置的元素，指定位置后面的元素都将向前移动一位。</span><br><span class="line">     * 最后将Vector原先的最后一个元素设为null，避免内存泄露。</span><br><span class="line">     *<span class="javadoctag"> @param</span> location</span><br><span class="line">     *            the index of the object to remove.</span><br><span class="line">     *<span class="javadoctag"> @return</span> the removed object.</span><br><span class="line">     *<span class="javadoctag"> @throws</span> IndexOutOfBoundsException</span><br><span class="line">     *                if &#123;@code location &lt; 0 || location &gt;= size()&#125;.</span><br><span class="line">     */</span></span><br><span class="line">    <span class="annotation">@SuppressWarnings</span>(<span class="string">"unchecked"</span>)</span><br><span class="line">    <span class="annotation">@Override</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">synchronized</span> E <span class="title">remove</span><span class="params">(<span class="keyword">int</span> location)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">if</span> (location &lt; elementCount) &#123;</span><br><span class="line">            E result = (E) elementData[location];</span><br><span class="line">            elementCount--;</span><br><span class="line">            <span class="keyword">int</span> size = elementCount - location;</span><br><span class="line">            <span class="keyword">if</span> (size &gt; <span class="number">0</span>) &#123;</span><br><span class="line">                System.arraycopy(elementData, location + <span class="number">1</span>, elementData,</span><br><span class="line">                        location, size);</span><br><span class="line">            &#125;</span><br><span class="line">            elementData[elementCount] = <span class="keyword">null</span>;</span><br><span class="line">            modCount++;</span><br><span class="line">            <span class="keyword">return</span> result;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">throw</span> arrayIndexOutOfBoundsException(location, elementCount);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="javadoc">/**</span><br><span class="line">     * Removes the first occurrence, starting at the beginning and moving</span><br><span class="line">     * towards the end, of the specified object from this vector. All elements</span><br><span class="line">     * with an index bigger than the element that gets removed have their index</span><br><span class="line">     * decreased by 1.</span><br><span class="line">     * 移除指定元素，Vector将从其开始向结束位置查找，一直到匹配到该元素后，将其移除。</span><br><span class="line">     * 移除位置后的所有元素将依次向前移动一位。</span><br><span class="line">     *<span class="javadoctag"> @param</span> object</span><br><span class="line">     *            the object to remove from this vector.</span><br><span class="line">     *<span class="javadoctag"> @return</span> &#123;@code true&#125; if the specified object was found, &#123;@code false&#125;</span><br><span class="line">     *         otherwise.</span><br><span class="line">     *<span class="javadoctag"> @see</span> #removeAllElements</span><br><span class="line">     *<span class="javadoctag"> @see</span> #removeElementAt</span><br><span class="line">     *<span class="javadoctag"> @see</span> #size</span><br><span class="line">     */</span></span><br><span class="line">    <span class="annotation">@Override</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">boolean</span> <span class="title">remove</span><span class="params">(Object object)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> removeElement(object);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="javadoc">/**</span><br><span class="line">     * Removes all occurrences in this vector of each object in the specified</span><br><span class="line">     * Collection.</span><br><span class="line">     * 移除当前Vector中包含的collection中的所有元素</span><br><span class="line">     * 该方法调用后，Vector中将不包含任何collection中的元素</span><br><span class="line">     * 因为其实现是遍历当前Vector，判断元素是否在collection中存在，</span><br><span class="line">     * 如果存在则移除。</span><br><span class="line">     *<span class="javadoctag"> @param</span> collection</span><br><span class="line">     *            the collection of objects to remove.</span><br><span class="line">     *<span class="javadoctag"> @return</span> &#123;@code true&#125; if this vector is modified, &#123;@code false&#125; otherwise.</span><br><span class="line">     *<span class="javadoctag"> @see</span> #remove(Object)</span><br><span class="line">     *<span class="javadoctag"> @see</span> #contains(Object)</span><br><span class="line">     */</span></span><br><span class="line">    <span class="annotation">@Override</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">synchronized</span> <span class="keyword">boolean</span> <span class="title">removeAll</span><span class="params">(Collection&lt;?&gt; collection)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="keyword">super</span>.removeAll(collection);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="javadoc">/**</span><br><span class="line">     * Removes all elements from this vector, leaving the size zero and the</span><br><span class="line">     * capacity unchanged.</span><br><span class="line">     * 移除所有的元素 将其设为null，容量不变，元素数量变为0.</span><br><span class="line">     *<span class="javadoctag"> @see</span> #isEmpty</span><br><span class="line">     *<span class="javadoctag"> @see</span> #size</span><br><span class="line">     */</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">synchronized</span> <span class="keyword">void</span> <span class="title">removeAllElements</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; elementCount; i++) &#123;</span><br><span class="line">            elementData[i] = <span class="keyword">null</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        modCount++;</span><br><span class="line">        elementCount = <span class="number">0</span>;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="javadoc">/**</span><br><span class="line">     * Removes the first occurrence, starting at the beginning and moving</span><br><span class="line">     * towards the end, of the specified object from this vector. All elements</span><br><span class="line">     * with an index bigger than the element that gets removed have their index</span><br><span class="line">     * decreased by 1.</span><br><span class="line">     * 移除指定的元素，从Vector的开始向结束方向查找。</span><br><span class="line">     * 首先判断该元素的角标，然后移除该位置的元素</span><br><span class="line">     *<span class="javadoctag"> @param</span> object</span><br><span class="line">     *            the object to remove from this vector.</span><br><span class="line">     *<span class="javadoctag"> @return</span> &#123;@code true&#125; if the specified object was found, &#123;@code false&#125;</span><br><span class="line">     *         otherwise.</span><br><span class="line">     *<span class="javadoctag"> @see</span> #removeAllElements</span><br><span class="line">     *<span class="javadoctag"> @see</span> #removeElementAt</span><br><span class="line">     *<span class="javadoctag"> @see</span> #size</span><br><span class="line">     */</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">synchronized</span> <span class="keyword">boolean</span> <span class="title">removeElement</span><span class="params">(Object object)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">int</span> index;</span><br><span class="line">        <span class="keyword">if</span> ((index = indexOf(object, <span class="number">0</span>)) == -<span class="number">1</span>) &#123;</span><br><span class="line">            <span class="keyword">return</span> <span class="keyword">false</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        removeElementAt(index);</span><br><span class="line">        <span class="keyword">return</span> <span class="keyword">true</span>;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="javadoc">/**</span><br><span class="line">     * Removes the element found at index position &#123;@code location&#125; from</span><br><span class="line">     * this &#123;@code Vector&#125;. All elements with an index bigger than</span><br><span class="line">     * &#123;@code location&#125; have their index decreased by 1.</span><br><span class="line">     * 移除指定位置的元素。</span><br><span class="line">     * 指定位置后面的所有元素依次前移一位</span><br><span class="line">     * 将原最后一位设为null，防治内存泄露。</span><br><span class="line">     *<span class="javadoctag"> @param</span> location</span><br><span class="line">     *            the index of the element to remove.</span><br><span class="line">     *<span class="javadoctag"> @throws</span> ArrayIndexOutOfBoundsException</span><br><span class="line">     *                if &#123;@code location &lt; 0 || location &gt;= size()&#125;.</span><br><span class="line">     *<span class="javadoctag"> @see</span> #removeElement</span><br><span class="line">     *<span class="javadoctag"> @see</span> #removeAllElements</span><br><span class="line">     *<span class="javadoctag"> @see</span> #size</span><br><span class="line">     */</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">synchronized</span> <span class="keyword">void</span> <span class="title">removeElementAt</span><span class="params">(<span class="keyword">int</span> location)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">if</span> (location &gt;= <span class="number">0</span> &amp;&amp; location &lt; elementCount) &#123;</span><br><span class="line">            elementCount--;</span><br><span class="line">            <span class="keyword">int</span> size = elementCount - location;</span><br><span class="line">            <span class="keyword">if</span> (size &gt; <span class="number">0</span>) &#123;</span><br><span class="line">                System.arraycopy(elementData, location + <span class="number">1</span>, elementData,</span><br><span class="line">                        location, size);</span><br><span class="line">            &#125;</span><br><span class="line">            elementData[elementCount] = <span class="keyword">null</span>;</span><br><span class="line">            modCount++;</span><br><span class="line">        &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">            <span class="keyword">throw</span> arrayIndexOutOfBoundsException(location, elementCount);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="javadoc">/**</span><br><span class="line">     * Removes the objects in the specified range from the start to the, but not</span><br><span class="line">     * including, end index. All elements with an index bigger than or equal to</span><br><span class="line">     * &#123;@code end&#125; have their index decreased by &#123;@code end - start&#125;.</span><br><span class="line">     * 移除指定开始和结束位置内的元素，但是不包括结束位置的元素。</span><br><span class="line">     * 移除后，指定位置及其以后的元素依次向前移动（end - start）位</span><br><span class="line">     * 移动结束后，将多余的元素设为null（原最后位移动后的位置 到 原最后一位）</span><br><span class="line">     *<span class="javadoctag"> @param</span> start</span><br><span class="line">     *            the index at which to start removing.</span><br><span class="line">     *<span class="javadoctag"> @param</span> end</span><br><span class="line">     *            the index one past the end of the range to remove.</span><br><span class="line">     *<span class="javadoctag"> @throws</span> IndexOutOfBoundsException</span><br><span class="line">     *                if &#123;@code start &lt; 0, start &gt; end&#125; or</span><br><span class="line">     *                &#123;@code end &gt; size()&#125;.</span><br><span class="line">     */</span></span><br><span class="line">    <span class="annotation">@Override</span></span><br><span class="line">    <span class="function"><span class="keyword">protected</span> <span class="keyword">void</span> <span class="title">removeRange</span><span class="params">(<span class="keyword">int</span> start, <span class="keyword">int</span> end)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">if</span> (start &gt;= <span class="number">0</span> &amp;&amp; start &lt;= end &amp;&amp; end &lt;= elementCount) &#123;</span><br><span class="line">            <span class="keyword">if</span> (start == end) &#123;</span><br><span class="line">                <span class="keyword">return</span>;</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="keyword">if</span> (end != elementCount) &#123;</span><br><span class="line">                System.arraycopy(elementData, end, elementData, start,</span><br><span class="line">                        elementCount - end);</span><br><span class="line">                <span class="keyword">int</span> newCount = elementCount - (end - start);</span><br><span class="line">                Arrays.fill(elementData, newCount, elementCount, <span class="keyword">null</span>);</span><br><span class="line">                elementCount = newCount;</span><br><span class="line">            &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">                Arrays.fill(elementData, start, elementCount, <span class="keyword">null</span>);</span><br><span class="line">                elementCount = start;</span><br><span class="line">            &#125;</span><br><span class="line">            modCount++;</span><br><span class="line">        &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">            <span class="keyword">throw</span> <span class="keyword">new</span> IndexOutOfBoundsException();</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br></pre></td></tr></table></figure>
<h1 id="求其与collection的交集">求其与collection的交集</h1><figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="javadoc">/**</span><br><span class="line">     * Removes all objects from this vector that are not contained in the</span><br><span class="line">     * specified collection.</span><br><span class="line">     * 移除该Vector中所有collection中未包含的元素</span><br><span class="line">     * 剩下vector与collection元素的交集，即其相同元素。</span><br><span class="line">     *<span class="javadoctag"> @param</span> collection</span><br><span class="line">     *            the collection of objects to retain.</span><br><span class="line">     *<span class="javadoctag"> @return</span> &#123;@code true&#125; if this vector is modified, &#123;@code false&#125; otherwise.</span><br><span class="line">     *<span class="javadoctag"> @see</span> #remove(Object)</span><br><span class="line">     */</span></span><br><span class="line">    <span class="annotation">@Override</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">synchronized</span> <span class="keyword">boolean</span> <span class="title">retainAll</span><span class="params">(Collection&lt;?&gt; collection)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="keyword">super</span>.retainAll(collection);</span><br><span class="line">    &#125;</span><br></pre></td></tr></table></figure>
<h1 id="设置元素">设置元素</h1><figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="javadoc">/**</span><br><span class="line">    * Replaces the element at the specified location in this vector with the</span><br><span class="line">    * specified object.</span><br><span class="line">    * 修改指定位置的元素</span><br><span class="line">    * 返回指定位置修改前的元素</span><br><span class="line">    *<span class="javadoctag"> @param</span> location</span><br><span class="line">    *            the index at which to put the specified object.</span><br><span class="line">    *<span class="javadoctag"> @param</span> object</span><br><span class="line">    *            the object to add to this vector.</span><br><span class="line">    *<span class="javadoctag"> @return</span> the previous element at the location.</span><br><span class="line">    *<span class="javadoctag"> @throws</span> ArrayIndexOutOfBoundsException</span><br><span class="line">    *                if &#123;@code location &lt; 0 || location &gt;= size()&#125;.</span><br><span class="line">    *<span class="javadoctag"> @see</span> #size</span><br><span class="line">    */</span></span><br><span class="line">   <span class="annotation">@SuppressWarnings</span>(<span class="string">"unchecked"</span>)</span><br><span class="line">   <span class="annotation">@Override</span></span><br><span class="line">   <span class="function"><span class="keyword">public</span> <span class="keyword">synchronized</span> E <span class="title">set</span><span class="params">(<span class="keyword">int</span> location, E object)</span> </span>&#123;</span><br><span class="line">       <span class="keyword">if</span> (location &lt; elementCount) &#123;</span><br><span class="line">           E result = (E) elementData[location];</span><br><span class="line">           elementData[location] = object;</span><br><span class="line">           <span class="keyword">return</span> result;</span><br><span class="line">       &#125;</span><br><span class="line">       <span class="keyword">throw</span> arrayIndexOutOfBoundsException(location, elementCount);</span><br><span class="line">   &#125;</span><br><span class="line"></span><br><span class="line">   <span class="javadoc">/**</span><br><span class="line">    * Replaces the element at the specified location in this vector with the</span><br><span class="line">    * specified object.</span><br><span class="line">    * 修改指定位置的元素</span><br><span class="line">    * 无返回值</span><br><span class="line">    *<span class="javadoctag"> @param</span> object</span><br><span class="line">    *            the object to add to this vector.</span><br><span class="line">    *<span class="javadoctag"> @param</span> location</span><br><span class="line">    *            the index at which to put the specified object.</span><br><span class="line">    *<span class="javadoctag"> @throws</span> ArrayIndexOutOfBoundsException</span><br><span class="line">    *                if &#123;@code location &lt; 0 || location &gt;= size()&#125;.</span><br><span class="line">    *<span class="javadoctag"> @see</span> #size</span><br><span class="line">    */</span></span><br><span class="line">   <span class="function"><span class="keyword">public</span> <span class="keyword">synchronized</span> <span class="keyword">void</span> <span class="title">setElementAt</span><span class="params">(E object, <span class="keyword">int</span> location)</span> </span>&#123;</span><br><span class="line">       <span class="keyword">if</span> (location &lt; elementCount) &#123;</span><br><span class="line">           elementData[location] = object;</span><br><span class="line">       &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">           <span class="keyword">throw</span> arrayIndexOutOfBoundsException(location, elementCount);</span><br><span class="line">       &#125;</span><br><span class="line">   &#125;</span><br></pre></td></tr></table></figure>
<h1 id="运行时异常">运行时异常</h1><figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="javadoc">/**</span><br><span class="line">    * This method was extracted to encourage VM to inline callers.</span><br><span class="line">    * TODO: when we have a VM that can actually inline, move the test in here too!</span><br><span class="line">    */</span></span><br><span class="line">   <span class="function"><span class="keyword">private</span> <span class="keyword">static</span> ArrayIndexOutOfBoundsException <span class="title">arrayIndexOutOfBoundsException</span><span class="params">(<span class="keyword">int</span> index, <span class="keyword">int</span> size)</span> </span>&#123;</span><br><span class="line">       <span class="keyword">throw</span> <span class="keyword">new</span> ArrayIndexOutOfBoundsException(size, index);</span><br><span class="line">   &#125;</span><br></pre></td></tr></table></figure>
<h1 id="设定Vector中元素的个数">设定Vector中元素的个数</h1><figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="javadoc">/**</span><br><span class="line">    * Sets the size of this vector to the specified size. If there are more</span><br><span class="line">    * than length elements in this vector, the elements at end are lost. If</span><br><span class="line">    * there are less than length elements in the vector, the additional</span><br><span class="line">    * elements contain null.</span><br><span class="line">    * 将当前Vector的元素个数设为指定值。</span><br><span class="line">    * 如果Vector的元素个数大于指定值，将丢失多出的元素</span><br><span class="line">    * 如果Vector的元素个数小于指定值，将以null填充。</span><br><span class="line">    *<span class="javadoctag"> @param</span> length</span><br><span class="line">    *            the new size of this vector.</span><br><span class="line">    *<span class="javadoctag"> @see</span> #size</span><br><span class="line">    */</span></span><br><span class="line">   <span class="function"><span class="keyword">public</span> <span class="keyword">synchronized</span> <span class="keyword">void</span> <span class="title">setSize</span><span class="params">(<span class="keyword">int</span> length)</span> </span>&#123;</span><br><span class="line">       <span class="keyword">if</span> (length == elementCount) &#123;</span><br><span class="line">           <span class="keyword">return</span>;</span><br><span class="line">       &#125;</span><br><span class="line">       ensureCapacity(length);</span><br><span class="line">       <span class="keyword">if</span> (elementCount &gt; length) &#123;</span><br><span class="line">           Arrays.fill(elementData, length, elementCount, <span class="keyword">null</span>);</span><br><span class="line">       &#125;</span><br><span class="line">       elementCount = length;</span><br><span class="line">       modCount++;</span><br><span class="line">   &#125;</span><br></pre></td></tr></table></figure>
<h1 id="返回元素个数">返回元素个数</h1><figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="javadoc">/**</span><br><span class="line">   * Returns the number of elements in this vector.</span><br><span class="line">   * 返回元素个数。</span><br><span class="line">   *<span class="javadoctag"> @return</span> the number of elements in this vector.</span><br><span class="line">   *<span class="javadoctag"> @see</span> #elementCount</span><br><span class="line">   *<span class="javadoctag"> @see</span> #lastElement</span><br><span class="line">   */</span></span><br><span class="line">  <span class="annotation">@Override</span></span><br><span class="line">  <span class="function"><span class="keyword">public</span> <span class="keyword">synchronized</span> <span class="keyword">int</span> <span class="title">size</span><span class="params">()</span> </span>&#123;</span><br><span class="line">      <span class="keyword">return</span> elementCount;</span><br><span class="line">  &#125;</span><br></pre></td></tr></table></figure>
<h1 id="返回指定范围的List">返回指定范围的List</h1><figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="javadoc">/**</span><br><span class="line">    * Returns a List of the specified portion of this vector from the start</span><br><span class="line">    * index to one less than the end index. The returned List is backed by this</span><br><span class="line">    * vector so changes to one are reflected by the other.</span><br><span class="line">    * 返回指定范围的子List，不包括指定结束位置的元素。</span><br><span class="line">    * 修改当前Vector将会影响子List。</span><br><span class="line">    *<span class="javadoctag"> @param</span> start</span><br><span class="line">    *            the index at which to start the sublist.</span><br><span class="line">    *<span class="javadoctag"> @param</span> end</span><br><span class="line">    *            the index one past the end of the sublist.</span><br><span class="line">    *<span class="javadoctag"> @return</span> a List of a portion of this vector.</span><br><span class="line">    *<span class="javadoctag"> @throws</span> IndexOutOfBoundsException</span><br><span class="line">    *                if &#123;@code start &lt; 0&#125; or &#123;@code end &gt; size()&#125;.</span><br><span class="line">    *<span class="javadoctag"> @throws</span> IllegalArgumentException</span><br><span class="line">    *                if &#123;@code start &gt; end&#125;.</span><br><span class="line">    */</span></span><br><span class="line">   <span class="annotation">@Override</span></span><br><span class="line">   <span class="function"><span class="keyword">public</span> <span class="keyword">synchronized</span> List&lt;E&gt; <span class="title">subList</span><span class="params">(<span class="keyword">int</span> start, <span class="keyword">int</span> end)</span> </span>&#123;</span><br><span class="line">       <span class="keyword">return</span> <span class="keyword">new</span> Collections.SynchronizedRandomAccessList&lt;E&gt;(<span class="keyword">super</span>.subList(</span><br><span class="line">               start, end), <span class="keyword">this</span>);</span><br><span class="line">   &#125;</span><br></pre></td></tr></table></figure>
<h1 id="返回当前元素的数组">返回当前元素的数组</h1><figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="javadoc">/**</span><br><span class="line">    * Returns a new array containing all elements contained in this vector.</span><br><span class="line">    * 返回包括当前所有元素的数组</span><br><span class="line">    *<span class="javadoctag"> @return</span> an array of the elements from this vector.</span><br><span class="line">    */</span></span><br><span class="line">   <span class="annotation">@Override</span></span><br><span class="line">   <span class="keyword">public</span> <span class="keyword">synchronized</span> Object[] toArray() &#123;</span><br><span class="line">       Object[] result = <span class="keyword">new</span> Object[elementCount];</span><br><span class="line">       System.arraycopy(elementData, <span class="number">0</span>, result, <span class="number">0</span>, elementCount);</span><br><span class="line">       <span class="keyword">return</span> result;</span><br><span class="line">   &#125;</span><br><span class="line"></span><br><span class="line">   <span class="javadoc">/**</span><br><span class="line">    * Returns an array containing all elements contained in this vector. If the</span><br><span class="line">    * specified array is large enough to hold the elements, the specified array</span><br><span class="line">    * is used, otherwise an array of the same type is created. If the specified</span><br><span class="line">    * array is used and is larger than this vector, the array element following</span><br><span class="line">    * the collection elements is set to null.</span><br><span class="line">    * 将当前所有元素返回到指定数组中。</span><br><span class="line">    * 如果数组过小将会创建新数组，不再使用给定数组。</span><br><span class="line">    *<span class="javadoctag"> @param</span> contents</span><br><span class="line">    *            the array to fill.</span><br><span class="line">    *<span class="javadoctag"> @return</span> an array of the elements from this vector.</span><br><span class="line">    *<span class="javadoctag"> @throws</span> ArrayStoreException</span><br><span class="line">    *                if the type of an element in this vector cannot be</span><br><span class="line">    *                stored in the type of the specified array.</span><br><span class="line">    */</span></span><br><span class="line">   <span class="annotation">@Override</span></span><br><span class="line">   <span class="annotation">@SuppressWarnings</span>(<span class="string">"unchecked"</span>)</span><br><span class="line">   <span class="keyword">public</span> <span class="keyword">synchronized</span> &lt;T&gt; T[] toArray(T[] contents) &#123;</span><br><span class="line">       <span class="keyword">if</span> (elementCount &gt; contents.length) &#123;</span><br><span class="line">           Class&lt;?&gt; ct = contents.getClass().getComponentType();</span><br><span class="line">           contents = (T[]) Array.newInstance(ct, elementCount);</span><br><span class="line">       &#125;</span><br><span class="line">       System.arraycopy(elementData, <span class="number">0</span>, contents, <span class="number">0</span>, elementCount);</span><br><span class="line">       <span class="keyword">if</span> (elementCount &lt; contents.length) &#123;</span><br><span class="line">           contents[elementCount] = <span class="keyword">null</span>;</span><br><span class="line">       &#125;</span><br><span class="line">       <span class="keyword">return</span> contents;</span><br><span class="line">   &#125;</span><br></pre></td></tr></table></figure>
<h1 id="重写的toString()">重写的toString()</h1><figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="javadoc">/**</span><br><span class="line">     * Returns the string representation of this vector.</span><br><span class="line">     *</span><br><span class="line">     *<span class="javadoctag"> @return</span> the string representation of this vector.</span><br><span class="line">     *<span class="javadoctag"> @see</span> #elements</span><br><span class="line">     */</span></span><br><span class="line">    <span class="annotation">@Override</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">synchronized</span> String <span class="title">toString</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        <span class="keyword">if</span> (elementCount == <span class="number">0</span>) &#123;</span><br><span class="line">            <span class="keyword">return</span> <span class="string">"[]"</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">int</span> length = elementCount - <span class="number">1</span>;</span><br><span class="line">        StringBuilder buffer = <span class="keyword">new</span> StringBuilder(elementCount * <span class="number">16</span>);</span><br><span class="line">        buffer.append(<span class="string">'['</span>);</span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; length; i++) &#123;</span><br><span class="line">            <span class="keyword">if</span> (elementData[i] == <span class="keyword">this</span>) &#123;</span><br><span class="line">                buffer.append(<span class="string">"(this Collection)"</span>);</span><br><span class="line">            &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">                buffer.append(elementData[i]);</span><br><span class="line">            &#125;</span><br><span class="line">            buffer.append(<span class="string">", "</span>);</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">if</span> (elementData[length] == <span class="keyword">this</span>) &#123;</span><br><span class="line">            buffer.append(<span class="string">"(this Collection)"</span>);</span><br><span class="line">        &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">            buffer.append(elementData[length]);</span><br><span class="line">        &#125;</span><br><span class="line">        buffer.append(<span class="string">']'</span>);</span><br><span class="line">        <span class="keyword">return</span> buffer.toString();</span><br><span class="line">    &#125;</span><br></pre></td></tr></table></figure>
<h1 id="将当前容量调整到元素数量大小">将当前容量调整到元素数量大小</h1><figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="javadoc">/**</span><br><span class="line">    * Sets the capacity of this vector to be the same as the size.</span><br><span class="line">    *</span><br><span class="line">    *<span class="javadoctag"> @see</span> #capacity</span><br><span class="line">    *<span class="javadoctag"> @see</span> #ensureCapacity</span><br><span class="line">    *<span class="javadoctag"> @see</span> #size</span><br><span class="line">    */</span></span><br><span class="line">   <span class="function"><span class="keyword">public</span> <span class="keyword">synchronized</span> <span class="keyword">void</span> <span class="title">trimToSize</span><span class="params">()</span> </span>&#123;</span><br><span class="line">       <span class="keyword">if</span> (elementData.length != elementCount) &#123;</span><br><span class="line">           grow(elementCount);</span><br><span class="line">       &#125;</span><br><span class="line">   &#125;</span><br></pre></td></tr></table></figure>
<h1 id="序列化">序列化</h1><figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="function"><span class="keyword">private</span> <span class="keyword">synchronized</span> <span class="keyword">void</span> <span class="title">writeObject</span><span class="params">(ObjectOutputStream stream)</span></span><br><span class="line">          <span class="keyword">throws</span> IOException </span>&#123;</span><br><span class="line">      stream.defaultWriteObject();</span><br><span class="line">  &#125;</span><br></pre></td></tr></table></figure>
<h1 id="总结">总结</h1><ul>
<li>Vector中包含四个构造方法，无参构造函数的容量默认为10。</li>
<li>很多方法都加了<code>synchronized</code>同步语句，保证线程安全。</li>
<li>Vector中允许元素为null。</li>
<li>很多其他的地方与ArrayList实现大同小异，Vector现在已经不再使用。</li>
<li><code>Vector</code>通过角标进行遍历的效率最高。<h1 id="源代码">源代码</h1><figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="comment">/*</span><br><span class="line"> *  Licensed to the Apache Software Foundation (ASF) under one or more</span><br><span class="line"> *  contributor license agreements.  See the NOTICE file distributed with</span><br><span class="line"> *  this work for additional information regarding copyright ownership.</span><br><span class="line"> *  The ASF licenses this file to You under the Apache License, Version 2.0</span><br><span class="line"> *  (the "License"); you may not use this file except in compliance with</span><br><span class="line"> *  the License.  You may obtain a copy of the License at</span><br><span class="line"> *</span><br><span class="line"> *     http://www.apache.org/licenses/LICENSE-2.0</span><br><span class="line"> *</span><br><span class="line"> *  Unless required by applicable law or agreed to in writing, software</span><br><span class="line"> *  distributed under the License is distributed on an "AS IS" BASIS,</span><br><span class="line"> *  WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.</span><br><span class="line"> *  See the License for the specific language governing permissions and</span><br><span class="line"> *  limitations under the License.</span><br><span class="line"> */</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">package</span> java.util;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> java.io.IOException;</span><br><span class="line"><span class="keyword">import</span> java.io.ObjectOutputStream;</span><br><span class="line"><span class="keyword">import</span> java.io.Serializable;</span><br><span class="line"><span class="keyword">import</span> java.lang.reflect.Array;</span><br><span class="line"></span><br><span class="line"><span class="javadoc">/**</span><br><span class="line"> * Vector is an implementation of &#123;@link List&#125;, backed by an array and synchronized.</span><br><span class="line"> * All optional operations including adding, removing, and replacing elements are supported.</span><br><span class="line"> *</span><br><span class="line"> * &lt;p&gt;All elements are permitted, including null.</span><br><span class="line"> *</span><br><span class="line"> * &lt;p&gt;This class is equivalent to &#123;@link ArrayList&#125; with synchronized operations. This has a</span><br><span class="line"> * performance cost, and the synchronization is not necessarily meaningful to your application:</span><br><span class="line"> * synchronizing each call to &#123;@code get&#125;, for example, is not equivalent to synchronizing on the</span><br><span class="line"> * list and iterating over it (which is probably what you intended). If you do need very highly</span><br><span class="line"> * concurrent access, you should also consider &#123;@link java.util.concurrent.CopyOnWriteArrayList&#125;.</span><br><span class="line"> *</span><br><span class="line"> *<span class="javadoctag"> @param</span> &lt;E&gt; The element type of this list.</span><br><span class="line"> */</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Vector</span>&lt;<span class="title">E</span>&gt; <span class="keyword">extends</span> <span class="title">AbstractList</span>&lt;<span class="title">E</span>&gt; <span class="keyword">implements</span> <span class="title">List</span>&lt;<span class="title">E</span>&gt;,</span><br><span class="line">        <span class="title">RandomAccess</span>, <span class="title">Cloneable</span>, <span class="title">Serializable</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">static</span> <span class="keyword">final</span> <span class="keyword">long</span> serialVersionUID = -<span class="number">2767605614048989439L</span>;</span><br><span class="line"></span><br><span class="line">    <span class="javadoc">/**</span><br><span class="line">     * The number of elements or the size of the vector.</span><br><span class="line">     */</span></span><br><span class="line">    <span class="keyword">protected</span> <span class="keyword">int</span> elementCount;</span><br><span class="line"></span><br><span class="line">    <span class="javadoc">/**</span><br><span class="line">     * The elements of the vector.</span><br><span class="line">     */</span></span><br><span class="line">    <span class="keyword">protected</span> Object[] elementData;</span><br><span class="line"></span><br><span class="line">    <span class="javadoc">/**</span><br><span class="line">     * How many elements should be added to the vector when it is detected that</span><br><span class="line">     * it needs to grow to accommodate extra entries. If this value is zero or</span><br><span class="line">     * negative the size will be doubled if an increase is needed.</span><br><span class="line">     */</span></span><br><span class="line">    <span class="keyword">protected</span> <span class="keyword">int</span> capacityIncrement;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">static</span> <span class="keyword">final</span> <span class="keyword">int</span> DEFAULT_SIZE = <span class="number">10</span>;</span><br><span class="line"></span><br><span class="line">    <span class="javadoc">/**</span><br><span class="line">     * Constructs a new vector using the default capacity.</span><br><span class="line">     */</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="title">Vector</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        <span class="keyword">this</span>(DEFAULT_SIZE, <span class="number">0</span>);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="javadoc">/**</span><br><span class="line">     * Constructs a new vector using the specified capacity.</span><br><span class="line">     *</span><br><span class="line">     *<span class="javadoctag"> @param</span> capacity</span><br><span class="line">     *            the initial capacity of the new vector.</span><br><span class="line">     *<span class="javadoctag"> @throws</span> IllegalArgumentException</span><br><span class="line">     *             if &#123;@code capacity&#125; is negative.</span><br><span class="line">     */</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="title">Vector</span><span class="params">(<span class="keyword">int</span> capacity)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">this</span>(capacity, <span class="number">0</span>);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="javadoc">/**</span><br><span class="line">     * Constructs a new vector using the specified capacity and capacity</span><br><span class="line">     * increment.</span><br><span class="line">     *</span><br><span class="line">     *<span class="javadoctag"> @param</span> capacity</span><br><span class="line">     *            the initial capacity of the new vector.</span><br><span class="line">     *<span class="javadoctag"> @param</span> capacityIncrement</span><br><span class="line">     *            the amount to increase the capacity when this vector is full.</span><br><span class="line">     *<span class="javadoctag"> @throws</span> IllegalArgumentException</span><br><span class="line">     *             if &#123;@code capacity&#125; is negative.</span><br><span class="line">     */</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="title">Vector</span><span class="params">(<span class="keyword">int</span> capacity, <span class="keyword">int</span> capacityIncrement)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">if</span> (capacity &lt; <span class="number">0</span>) &#123;</span><br><span class="line">            <span class="keyword">throw</span> <span class="keyword">new</span> IllegalArgumentException(<span class="string">"capacity &lt; 0: "</span> + capacity);</span><br><span class="line">        &#125;</span><br><span class="line">        elementData = newElementArray(capacity);</span><br><span class="line">        elementCount = <span class="number">0</span>;</span><br><span class="line">        <span class="keyword">this</span>.capacityIncrement = capacityIncrement;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="javadoc">/**</span><br><span class="line">     * Constructs a new instance of &#123;@code Vector&#125; containing the elements in</span><br><span class="line">     * &#123;@code collection&#125;. The order of the elements in the new &#123;@code Vector&#125;</span><br><span class="line">     * is dependent on the iteration order of the seed collection.</span><br><span class="line">     *</span><br><span class="line">     *<span class="javadoctag"> @param</span> collection</span><br><span class="line">     *            the collection of elements to add.</span><br><span class="line">     */</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="title">Vector</span><span class="params">(Collection&lt;? extends E&gt; collection)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">this</span>(collection.size(), <span class="number">0</span>);</span><br><span class="line">        Iterator&lt;? extends E&gt; it = collection.iterator();</span><br><span class="line">        <span class="keyword">while</span> (it.hasNext()) &#123;</span><br><span class="line">            elementData[elementCount++] = it.next();</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="annotation">@SuppressWarnings</span>(<span class="string">"unchecked"</span>)</span><br><span class="line">    <span class="keyword">private</span> E[] newElementArray(<span class="keyword">int</span> size) &#123;</span><br><span class="line">        <span class="keyword">return</span> (E[]) <span class="keyword">new</span> Object[size];</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="javadoc">/**</span><br><span class="line">     * Adds the specified object into this vector at the specified location. The</span><br><span class="line">     * object is inserted before any element with the same or a higher index</span><br><span class="line">     * increasing their index by 1. If the location is equal to the size of this</span><br><span class="line">     * vector, the object is added at the end.</span><br><span class="line">     *</span><br><span class="line">     *<span class="javadoctag"> @param</span> location</span><br><span class="line">     *            the index at which to insert the element.</span><br><span class="line">     *<span class="javadoctag"> @param</span> object</span><br><span class="line">     *            the object to insert in this vector.</span><br><span class="line">     *<span class="javadoctag"> @throws</span> ArrayIndexOutOfBoundsException</span><br><span class="line">     *                if &#123;@code location &lt; 0 || location &gt; size()&#125;.</span><br><span class="line">     *<span class="javadoctag"> @see</span> #addElement</span><br><span class="line">     *<span class="javadoctag"> @see</span> #size</span><br><span class="line">     */</span></span><br><span class="line">    <span class="annotation">@Override</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">add</span><span class="params">(<span class="keyword">int</span> location, E object)</span> </span>&#123;</span><br><span class="line">        insertElementAt(object, location);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="javadoc">/**</span><br><span class="line">     * Adds the specified object at the end of this vector.</span><br><span class="line">     *</span><br><span class="line">     *<span class="javadoctag"> @param</span> object</span><br><span class="line">     *            the object to add to the vector.</span><br><span class="line">     *<span class="javadoctag"> @return</span> &#123;@code true&#125;</span><br><span class="line">     */</span></span><br><span class="line">    <span class="annotation">@Override</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">synchronized</span> <span class="keyword">boolean</span> <span class="title">add</span><span class="params">(E object)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">if</span> (elementCount == elementData.length) &#123;</span><br><span class="line">            growByOne();</span><br><span class="line">        &#125;</span><br><span class="line">        elementData[elementCount++] = object;</span><br><span class="line">        modCount++;</span><br><span class="line">        <span class="keyword">return</span> <span class="keyword">true</span>;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="javadoc">/**</span><br><span class="line">     * Inserts the objects in the specified collection at the specified location</span><br><span class="line">     * in this vector. The objects are inserted in the order in which they are</span><br><span class="line">     * returned from the Collection iterator. The elements with an index equal</span><br><span class="line">     * or higher than &#123;@code location&#125; have their index increased by the size of</span><br><span class="line">     * the added collection.</span><br><span class="line">     *</span><br><span class="line">     *<span class="javadoctag"> @param</span> location</span><br><span class="line">     *            the location to insert the objects.</span><br><span class="line">     *<span class="javadoctag"> @param</span> collection</span><br><span class="line">     *            the collection of objects.</span><br><span class="line">     *<span class="javadoctag"> @return</span> &#123;@code true&#125; if this vector is modified, &#123;@code false&#125; otherwise.</span><br><span class="line">     *<span class="javadoctag"> @throws</span> ArrayIndexOutOfBoundsException</span><br><span class="line">     *                if &#123;@code location &lt; 0&#125; or &#123;@code location &gt; size()&#125;.</span><br><span class="line">     */</span></span><br><span class="line">    <span class="annotation">@Override</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">synchronized</span> <span class="keyword">boolean</span> <span class="title">addAll</span><span class="params">(<span class="keyword">int</span> location, Collection&lt;? extends E&gt; collection)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">if</span> (location &gt;= <span class="number">0</span> &amp;&amp; location &lt;= elementCount) &#123;</span><br><span class="line">            <span class="keyword">int</span> size = collection.size();</span><br><span class="line">            <span class="keyword">if</span> (size == <span class="number">0</span>) &#123;</span><br><span class="line">                <span class="keyword">return</span> <span class="keyword">false</span>;</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="keyword">int</span> required = size - (elementData.length - elementCount);</span><br><span class="line">            <span class="keyword">if</span> (required &gt; <span class="number">0</span>) &#123;</span><br><span class="line">                growBy(required);</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="keyword">int</span> count = elementCount - location;</span><br><span class="line">            <span class="keyword">if</span> (count &gt; <span class="number">0</span>) &#123;</span><br><span class="line">                System.arraycopy(elementData, location, elementData, location</span><br><span class="line">                        + size, count);</span><br><span class="line">            &#125;</span><br><span class="line">            Iterator&lt;? extends E&gt; it = collection.iterator();</span><br><span class="line">            <span class="keyword">while</span> (it.hasNext()) &#123;</span><br><span class="line">                elementData[location++] = it.next();</span><br><span class="line">            &#125;</span><br><span class="line">            elementCount += size;</span><br><span class="line">            modCount++;</span><br><span class="line">            <span class="keyword">return</span> <span class="keyword">true</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">throw</span> arrayIndexOutOfBoundsException(location, elementCount);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="javadoc">/**</span><br><span class="line">     * Adds the objects in the specified collection to the end of this vector.</span><br><span class="line">     *</span><br><span class="line">     *<span class="javadoctag"> @param</span> collection</span><br><span class="line">     *            the collection of objects.</span><br><span class="line">     *<span class="javadoctag"> @return</span> &#123;@code true&#125; if this vector is modified, &#123;@code false&#125; otherwise.</span><br><span class="line">     */</span></span><br><span class="line">    <span class="annotation">@Override</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">synchronized</span> <span class="keyword">boolean</span> <span class="title">addAll</span><span class="params">(Collection&lt;? extends E&gt; collection)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> addAll(elementCount, collection);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="javadoc">/**</span><br><span class="line">     * Adds the specified object at the end of this vector.</span><br><span class="line">     *</span><br><span class="line">     *<span class="javadoctag"> @param</span> object</span><br><span class="line">     *            the object to add to the vector.</span><br><span class="line">     */</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">synchronized</span> <span class="keyword">void</span> <span class="title">addElement</span><span class="params">(E object)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">if</span> (elementCount == elementData.length) &#123;</span><br><span class="line">            growByOne();</span><br><span class="line">        &#125;</span><br><span class="line">        elementData[elementCount++] = object;</span><br><span class="line">        modCount++;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="javadoc">/**</span><br><span class="line">     * Returns the number of elements this vector can hold without growing.</span><br><span class="line">     *</span><br><span class="line">     *<span class="javadoctag"> @return</span> the capacity of this vector.</span><br><span class="line">     *<span class="javadoctag"> @see</span> #ensureCapacity</span><br><span class="line">     *<span class="javadoctag"> @see</span> #size</span><br><span class="line">     */</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">synchronized</span> <span class="keyword">int</span> <span class="title">capacity</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> elementData.length;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="javadoc">/**</span><br><span class="line">     * Removes all elements from this vector, leaving it empty.</span><br><span class="line">     *</span><br><span class="line">     *<span class="javadoctag"> @see</span> #isEmpty</span><br><span class="line">     *<span class="javadoctag"> @see</span> #size</span><br><span class="line">     */</span></span><br><span class="line">    <span class="annotation">@Override</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">clear</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        removeAllElements();</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="javadoc">/**</span><br><span class="line">     * Returns a new vector with the same elements, size, capacity and capacity</span><br><span class="line">     * increment as this vector.</span><br><span class="line">     *</span><br><span class="line">     *<span class="javadoctag"> @return</span> a shallow copy of this vector.</span><br><span class="line">     *<span class="javadoctag"> @see</span> java.lang.Cloneable</span><br><span class="line">     */</span></span><br><span class="line">    <span class="annotation">@Override</span></span><br><span class="line">    <span class="annotation">@SuppressWarnings</span>(<span class="string">"unchecked"</span>)</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">synchronized</span> Object <span class="title">clone</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        <span class="keyword">try</span> &#123;</span><br><span class="line">            Vector&lt;E&gt; vector = (Vector&lt;E&gt;) <span class="keyword">super</span>.clone();</span><br><span class="line">            vector.elementData = elementData.clone();</span><br><span class="line">            <span class="keyword">return</span> vector;</span><br><span class="line">        &#125; <span class="keyword">catch</span> (CloneNotSupportedException e) &#123;</span><br><span class="line">            <span class="keyword">throw</span> <span class="keyword">new</span> AssertionError(e);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="javadoc">/**</span><br><span class="line">     * Searches this vector for the specified object.</span><br><span class="line">     *</span><br><span class="line">     *<span class="javadoctag"> @param</span> object</span><br><span class="line">     *            the object to look for in this vector.</span><br><span class="line">     *<span class="javadoctag"> @return</span> &#123;@code true&#125; if object is an element of this vector,</span><br><span class="line">     *         &#123;@code false&#125; otherwise.</span><br><span class="line">     *<span class="javadoctag"> @see</span> #indexOf(Object)</span><br><span class="line">     *<span class="javadoctag"> @see</span> #indexOf(Object, int)</span><br><span class="line">     *<span class="javadoctag"> @see</span> java.lang.Object#equals</span><br><span class="line">     */</span></span><br><span class="line">    <span class="annotation">@Override</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">boolean</span> <span class="title">contains</span><span class="params">(Object object)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> indexOf(object, <span class="number">0</span>) != -<span class="number">1</span>;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="javadoc">/**</span><br><span class="line">     * Searches this vector for all objects in the specified collection.</span><br><span class="line">     *</span><br><span class="line">     *<span class="javadoctag"> @param</span> collection</span><br><span class="line">     *            the collection of objects.</span><br><span class="line">     *<span class="javadoctag"> @return</span> &#123;@code true&#125; if all objects in the specified collection are</span><br><span class="line">     *         elements of this vector, &#123;@code false&#125; otherwise.</span><br><span class="line">     */</span></span><br><span class="line">    <span class="annotation">@Override</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">synchronized</span> <span class="keyword">boolean</span> <span class="title">containsAll</span><span class="params">(Collection&lt;?&gt; collection)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="keyword">super</span>.containsAll(collection);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="javadoc">/**</span><br><span class="line">     * Attempts to copy elements contained by this &#123;@code Vector&#125; into the</span><br><span class="line">     * corresponding elements of the supplied &#123;@code Object&#125; array.</span><br><span class="line">     *</span><br><span class="line">     *<span class="javadoctag"> @param</span> elements</span><br><span class="line">     *            the &#123;@code Object&#125; array into which the elements of this</span><br><span class="line">     *            vector are copied.</span><br><span class="line">     *<span class="javadoctag"> @throws</span> IndexOutOfBoundsException</span><br><span class="line">     *             if &#123;@code elements&#125; is not big enough.</span><br><span class="line">     *<span class="javadoctag"> @see</span> #clone</span><br><span class="line">     */</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">synchronized</span> <span class="keyword">void</span> <span class="title">copyInto</span><span class="params">(Object[] elements)</span> </span>&#123;</span><br><span class="line">        System.arraycopy(elementData, <span class="number">0</span>, elements, <span class="number">0</span>, elementCount);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="javadoc">/**</span><br><span class="line">     * Returns the element at the specified location in this vector.</span><br><span class="line">     *</span><br><span class="line">     *<span class="javadoctag"> @param</span> location</span><br><span class="line">     *            the index of the element to return in this vector.</span><br><span class="line">     *<span class="javadoctag"> @return</span> the element at the specified location.</span><br><span class="line">     *<span class="javadoctag"> @throws</span> ArrayIndexOutOfBoundsException</span><br><span class="line">     *                if &#123;@code location &lt; 0 || location &gt;= size()&#125;.</span><br><span class="line">     *<span class="javadoctag"> @see</span> #size</span><br><span class="line">     */</span></span><br><span class="line">    <span class="annotation">@SuppressWarnings</span>(<span class="string">"unchecked"</span>)</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">synchronized</span> E <span class="title">elementAt</span><span class="params">(<span class="keyword">int</span> location)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">if</span> (location &lt; elementCount) &#123;</span><br><span class="line">            <span class="keyword">return</span> (E) elementData[location];</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">throw</span> arrayIndexOutOfBoundsException(location, elementCount);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="javadoc">/**</span><br><span class="line">     * Returns an enumeration on the elements of this vector. The results of the</span><br><span class="line">     * enumeration may be affected if the contents of this vector is modified.</span><br><span class="line">     *</span><br><span class="line">     *<span class="javadoctag"> @return</span> an enumeration of the elements of this vector.</span><br><span class="line">     *<span class="javadoctag"> @see</span> #elementAt</span><br><span class="line">     *<span class="javadoctag"> @see</span> Enumeration</span><br><span class="line">     */</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> Enumeration&lt;E&gt; <span class="title">elements</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="keyword">new</span> Enumeration&lt;E&gt;() &#123;</span><br><span class="line">            <span class="keyword">int</span> pos = <span class="number">0</span>;</span><br><span class="line"></span><br><span class="line">            <span class="function"><span class="keyword">public</span> <span class="keyword">boolean</span> <span class="title">hasMoreElements</span><span class="params">()</span> </span>&#123;</span><br><span class="line">                <span class="keyword">return</span> pos &lt; elementCount;</span><br><span class="line">            &#125;</span><br><span class="line"></span><br><span class="line">            <span class="annotation">@SuppressWarnings</span>(<span class="string">"unchecked"</span>)</span><br><span class="line">            <span class="function"><span class="keyword">public</span> E <span class="title">nextElement</span><span class="params">()</span> </span>&#123;</span><br><span class="line">                <span class="keyword">synchronized</span> (Vector.<span class="keyword">this</span>) &#123;</span><br><span class="line">                    <span class="keyword">if</span> (pos &lt; elementCount) &#123;</span><br><span class="line">                        <span class="keyword">return</span> (E) elementData[pos++];</span><br><span class="line">                    &#125;</span><br><span class="line">                &#125;</span><br><span class="line">                <span class="keyword">throw</span> <span class="keyword">new</span> NoSuchElementException();</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="javadoc">/**</span><br><span class="line">     * Ensures that this vector can hold the specified number of elements</span><br><span class="line">     * without growing.</span><br><span class="line">     *</span><br><span class="line">     *<span class="javadoctag"> @param</span> minimumCapacity</span><br><span class="line">     *            the minimum number of elements that this vector will hold</span><br><span class="line">     *            before growing.</span><br><span class="line">     *<span class="javadoctag"> @see</span> #capacity</span><br><span class="line">     */</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">synchronized</span> <span class="keyword">void</span> <span class="title">ensureCapacity</span><span class="params">(<span class="keyword">int</span> minimumCapacity)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">if</span> (elementData.length &lt; minimumCapacity) &#123;</span><br><span class="line">            <span class="keyword">int</span> next = (capacityIncrement &lt;= <span class="number">0</span> ? elementData.length</span><br><span class="line">                    : capacityIncrement)</span><br><span class="line">                    + elementData.length;</span><br><span class="line">            grow(minimumCapacity &gt; next ? minimumCapacity : next);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="javadoc">/**</span><br><span class="line">     * Compares the specified object to this vector and returns if they are</span><br><span class="line">     * equal. The object must be a List which contains the same objects in the</span><br><span class="line">     * same order.</span><br><span class="line">     *</span><br><span class="line">     *<span class="javadoctag"> @param</span> object</span><br><span class="line">     *            the object to compare with this object</span><br><span class="line">     *<span class="javadoctag"> @return</span> &#123;@code true&#125; if the specified object is equal to this vector,</span><br><span class="line">     *         &#123;@code false&#125; otherwise.</span><br><span class="line">     *<span class="javadoctag"> @see</span> #hashCode</span><br><span class="line">     */</span></span><br><span class="line">    <span class="annotation">@Override</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">synchronized</span> <span class="keyword">boolean</span> <span class="title">equals</span><span class="params">(Object object)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">if</span> (<span class="keyword">this</span> == object) &#123;</span><br><span class="line">            <span class="keyword">return</span> <span class="keyword">true</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">if</span> (object <span class="keyword">instanceof</span> List) &#123;</span><br><span class="line">            List&lt;?&gt; list = (List&lt;?&gt;) object;</span><br><span class="line">            <span class="keyword">if</span> (list.size() != elementCount) &#123;</span><br><span class="line">                <span class="keyword">return</span> <span class="keyword">false</span>;</span><br><span class="line">            &#125;</span><br><span class="line"></span><br><span class="line">            <span class="keyword">int</span> index = <span class="number">0</span>;</span><br><span class="line">            Iterator&lt;?&gt; it = list.iterator();</span><br><span class="line">            <span class="keyword">while</span> (it.hasNext()) &#123;</span><br><span class="line">                Object e1 = elementData[index++], e2 = it.next();</span><br><span class="line">                <span class="keyword">if</span> (!(e1 == <span class="keyword">null</span> ? e2 == <span class="keyword">null</span> : e1.equals(e2))) &#123;</span><br><span class="line">                    <span class="keyword">return</span> <span class="keyword">false</span>;</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="keyword">return</span> <span class="keyword">true</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> <span class="keyword">false</span>;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="javadoc">/**</span><br><span class="line">     * Returns the first element in this vector.</span><br><span class="line">     *</span><br><span class="line">     *<span class="javadoctag"> @return</span> the element at the first position.</span><br><span class="line">     *<span class="javadoctag"> @throws</span> NoSuchElementException</span><br><span class="line">     *                if this vector is empty.</span><br><span class="line">     *<span class="javadoctag"> @see</span> #elementAt</span><br><span class="line">     *<span class="javadoctag"> @see</span> #lastElement</span><br><span class="line">     *<span class="javadoctag"> @see</span> #size</span><br><span class="line">     */</span></span><br><span class="line">    <span class="annotation">@SuppressWarnings</span>(<span class="string">"unchecked"</span>)</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">synchronized</span> E <span class="title">firstElement</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        <span class="keyword">if</span> (elementCount &gt; <span class="number">0</span>) &#123;</span><br><span class="line">            <span class="keyword">return</span> (E) elementData[<span class="number">0</span>];</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">throw</span> <span class="keyword">new</span> NoSuchElementException();</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="javadoc">/**</span><br><span class="line">     * Returns the element at the specified location in this vector.</span><br><span class="line">     *</span><br><span class="line">     *<span class="javadoctag"> @param</span> location</span><br><span class="line">     *            the index of the element to return in this vector.</span><br><span class="line">     *<span class="javadoctag"> @return</span> the element at the specified location.</span><br><span class="line">     *<span class="javadoctag"> @throws</span> ArrayIndexOutOfBoundsException</span><br><span class="line">     *                if &#123;@code location &lt; 0 || location &gt;= size()&#125;.</span><br><span class="line">     *<span class="javadoctag"> @see</span> #size</span><br><span class="line">     */</span></span><br><span class="line">    <span class="annotation">@Override</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> E <span class="title">get</span><span class="params">(<span class="keyword">int</span> location)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> elementAt(location);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">private</span> <span class="keyword">void</span> <span class="title">grow</span><span class="params">(<span class="keyword">int</span> newCapacity)</span> </span>&#123;</span><br><span class="line">        E[] newData = newElementArray(newCapacity);</span><br><span class="line">        <span class="comment">// Assumes elementCount is &lt;= newCapacity</span></span><br><span class="line">        <span class="comment">// assert elementCount &lt;= newCapacity;</span></span><br><span class="line">        System.arraycopy(elementData, <span class="number">0</span>, newData, <span class="number">0</span>, elementCount);</span><br><span class="line">        elementData = newData;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="javadoc">/**</span><br><span class="line">     * JIT optimization</span><br><span class="line">     */</span></span><br><span class="line">    <span class="function"><span class="keyword">private</span> <span class="keyword">void</span> <span class="title">growByOne</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        <span class="keyword">int</span> adding = <span class="number">0</span>;</span><br><span class="line">        <span class="keyword">if</span> (capacityIncrement &lt;= <span class="number">0</span>) &#123;</span><br><span class="line">            <span class="keyword">if</span> ((adding = elementData.length) == <span class="number">0</span>) &#123;</span><br><span class="line">                adding = <span class="number">1</span>;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">            adding = capacityIncrement;</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        E[] newData = newElementArray(elementData.length + adding);</span><br><span class="line">        System.arraycopy(elementData, <span class="number">0</span>, newData, <span class="number">0</span>, elementCount);</span><br><span class="line">        elementData = newData;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">private</span> <span class="keyword">void</span> <span class="title">growBy</span><span class="params">(<span class="keyword">int</span> required)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">int</span> adding = <span class="number">0</span>;</span><br><span class="line">        <span class="keyword">if</span> (capacityIncrement &lt;= <span class="number">0</span>) &#123;</span><br><span class="line">            <span class="keyword">if</span> ((adding = elementData.length) == <span class="number">0</span>) &#123;</span><br><span class="line">                adding = required;</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="keyword">while</span> (adding &lt; required) &#123;</span><br><span class="line">                adding += adding;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">            adding = (required / capacityIncrement) * capacityIncrement;</span><br><span class="line">            <span class="keyword">if</span> (adding &lt; required) &#123;</span><br><span class="line">                adding += capacityIncrement;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        E[] newData = newElementArray(elementData.length + adding);</span><br><span class="line">        System.arraycopy(elementData, <span class="number">0</span>, newData, <span class="number">0</span>, elementCount);</span><br><span class="line">        elementData = newData;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="javadoc">/**</span><br><span class="line">     * Returns an integer hash code for the receiver. Objects which are equal</span><br><span class="line">     * return the same value for this method.</span><br><span class="line">     *</span><br><span class="line">     *<span class="javadoctag"> @return</span> the receiver's hash.</span><br><span class="line">     *<span class="javadoctag"> @see</span> #equals</span><br><span class="line">     */</span></span><br><span class="line">    <span class="annotation">@Override</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">synchronized</span> <span class="keyword">int</span> <span class="title">hashCode</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        <span class="keyword">int</span> result = <span class="number">1</span>;</span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; elementCount; i++) &#123;</span><br><span class="line">            result = (<span class="number">31</span> * result)</span><br><span class="line">                    + (elementData[i] == <span class="keyword">null</span> ? <span class="number">0</span> : elementData[i].hashCode());</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> result;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="javadoc">/**</span><br><span class="line">     * Searches in this vector for the index of the specified object. The search</span><br><span class="line">     * for the object starts at the beginning and moves towards the end of this</span><br><span class="line">     * vector.</span><br><span class="line">     *</span><br><span class="line">     *<span class="javadoctag"> @param</span> object</span><br><span class="line">     *            the object to find in this vector.</span><br><span class="line">     *<span class="javadoctag"> @return</span> the index in this vector of the specified element, -1 if the</span><br><span class="line">     *         element isn't found.</span><br><span class="line">     *<span class="javadoctag"> @see</span> #contains</span><br><span class="line">     *<span class="javadoctag"> @see</span> #lastIndexOf(Object)</span><br><span class="line">     *<span class="javadoctag"> @see</span> #lastIndexOf(Object, int)</span><br><span class="line">     */</span></span><br><span class="line">    <span class="annotation">@Override</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">indexOf</span><span class="params">(Object object)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> indexOf(object, <span class="number">0</span>);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="javadoc">/**</span><br><span class="line">     * Searches in this vector for the index of the specified object. The search</span><br><span class="line">     * for the object starts at the specified location and moves towards the end</span><br><span class="line">     * of this vector.</span><br><span class="line">     *</span><br><span class="line">     *<span class="javadoctag"> @param</span> object</span><br><span class="line">     *            the object to find in this vector.</span><br><span class="line">     *<span class="javadoctag"> @param</span> location</span><br><span class="line">     *            the index at which to start searching.</span><br><span class="line">     *<span class="javadoctag"> @return</span> the index in this vector of the specified element, -1 if the</span><br><span class="line">     *         element isn't found.</span><br><span class="line">     *<span class="javadoctag"> @throws</span> ArrayIndexOutOfBoundsException</span><br><span class="line">     *                if &#123;@code location &lt; 0&#125;.</span><br><span class="line">     *<span class="javadoctag"> @see</span> #contains</span><br><span class="line">     *<span class="javadoctag"> @see</span> #lastIndexOf(Object)</span><br><span class="line">     *<span class="javadoctag"> @see</span> #lastIndexOf(Object, int)</span><br><span class="line">     */</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">synchronized</span> <span class="keyword">int</span> <span class="title">indexOf</span><span class="params">(Object object, <span class="keyword">int</span> location)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">if</span> (object != <span class="keyword">null</span>) &#123;</span><br><span class="line">            <span class="keyword">for</span> (<span class="keyword">int</span> i = location; i &lt; elementCount; i++) &#123;</span><br><span class="line">                <span class="keyword">if</span> (object.equals(elementData[i])) &#123;</span><br><span class="line">                    <span class="keyword">return</span> i;</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">            <span class="keyword">for</span> (<span class="keyword">int</span> i = location; i &lt; elementCount; i++) &#123;</span><br><span class="line">                <span class="keyword">if</span> (elementData[i] == <span class="keyword">null</span>) &#123;</span><br><span class="line">                    <span class="keyword">return</span> i;</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> -<span class="number">1</span>;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="javadoc">/**</span><br><span class="line">     * Inserts the specified object into this vector at the specified location.</span><br><span class="line">     * This object is inserted before any previous element at the specified</span><br><span class="line">     * location. All elements with an index equal or greater than</span><br><span class="line">     * &#123;@code location&#125; have their index increased by 1. If the location is</span><br><span class="line">     * equal to the size of this vector, the object is added at the end.</span><br><span class="line">     *</span><br><span class="line">     *<span class="javadoctag"> @param</span> object</span><br><span class="line">     *            the object to insert in this vector.</span><br><span class="line">     *<span class="javadoctag"> @param</span> location</span><br><span class="line">     *            the index at which to insert the element.</span><br><span class="line">     *<span class="javadoctag"> @throws</span> ArrayIndexOutOfBoundsException</span><br><span class="line">     *                if &#123;@code location &lt; 0 || location &gt; size()&#125;.</span><br><span class="line">     *<span class="javadoctag"> @see</span> #addElement</span><br><span class="line">     *<span class="javadoctag"> @see</span> #size</span><br><span class="line">     */</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">synchronized</span> <span class="keyword">void</span> <span class="title">insertElementAt</span><span class="params">(E object, <span class="keyword">int</span> location)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">if</span> (location &gt;= <span class="number">0</span> &amp;&amp; location &lt;= elementCount) &#123;</span><br><span class="line">            <span class="keyword">if</span> (elementCount == elementData.length) &#123;</span><br><span class="line">                growByOne();</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="keyword">int</span> count = elementCount - location;</span><br><span class="line">            <span class="keyword">if</span> (count &gt; <span class="number">0</span>) &#123;</span><br><span class="line">                System.arraycopy(elementData, location, elementData,</span><br><span class="line">                        location + <span class="number">1</span>, count);</span><br><span class="line">            &#125;</span><br><span class="line">            elementData[location] = object;</span><br><span class="line">            elementCount++;</span><br><span class="line">            modCount++;</span><br><span class="line">        &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">            <span class="keyword">throw</span> arrayIndexOutOfBoundsException(location, elementCount);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="javadoc">/**</span><br><span class="line">     * Returns if this vector has no elements, a size of zero.</span><br><span class="line">     *</span><br><span class="line">     *<span class="javadoctag"> @return</span> &#123;@code true&#125; if this vector has no elements, &#123;@code false&#125;</span><br><span class="line">     *         otherwise.</span><br><span class="line">     *<span class="javadoctag"> @see</span> #size</span><br><span class="line">     */</span></span><br><span class="line">    <span class="annotation">@Override</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">synchronized</span> <span class="keyword">boolean</span> <span class="title">isEmpty</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> elementCount == <span class="number">0</span>;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="javadoc">/**</span><br><span class="line">     * Returns the last element in this vector.</span><br><span class="line">     *</span><br><span class="line">     *<span class="javadoctag"> @return</span> the element at the last position.</span><br><span class="line">     *<span class="javadoctag"> @throws</span> NoSuchElementException</span><br><span class="line">     *                if this vector is empty.</span><br><span class="line">     *<span class="javadoctag"> @see</span> #elementAt</span><br><span class="line">     *<span class="javadoctag"> @see</span> #firstElement</span><br><span class="line">     *<span class="javadoctag"> @see</span> #size</span><br><span class="line">     */</span></span><br><span class="line">    <span class="annotation">@SuppressWarnings</span>(<span class="string">"unchecked"</span>)</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">synchronized</span> E <span class="title">lastElement</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        <span class="keyword">try</span> &#123;</span><br><span class="line">            <span class="keyword">return</span> (E) elementData[elementCount - <span class="number">1</span>];</span><br><span class="line">        &#125; <span class="keyword">catch</span> (IndexOutOfBoundsException e) &#123;</span><br><span class="line">            <span class="keyword">throw</span> <span class="keyword">new</span> NoSuchElementException();</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="javadoc">/**</span><br><span class="line">     * Searches in this vector for the index of the specified object. The search</span><br><span class="line">     * for the object starts at the end and moves towards the start of this</span><br><span class="line">     * vector.</span><br><span class="line">     *</span><br><span class="line">     *<span class="javadoctag"> @param</span> object</span><br><span class="line">     *            the object to find in this vector.</span><br><span class="line">     *<span class="javadoctag"> @return</span> the index in this vector of the specified element, -1 if the</span><br><span class="line">     *         element isn't found.</span><br><span class="line">     *<span class="javadoctag"> @see</span> #contains</span><br><span class="line">     *<span class="javadoctag"> @see</span> #indexOf(Object)</span><br><span class="line">     *<span class="javadoctag"> @see</span> #indexOf(Object, int)</span><br><span class="line">     */</span></span><br><span class="line">    <span class="annotation">@Override</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">synchronized</span> <span class="keyword">int</span> <span class="title">lastIndexOf</span><span class="params">(Object object)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> lastIndexOf(object, elementCount - <span class="number">1</span>);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="javadoc">/**</span><br><span class="line">     * Searches in this vector for the index of the specified object. The search</span><br><span class="line">     * for the object starts at the specified location and moves towards the</span><br><span class="line">     * start of this vector.</span><br><span class="line">     *</span><br><span class="line">     *<span class="javadoctag"> @param</span> object</span><br><span class="line">     *            the object to find in this vector.</span><br><span class="line">     *<span class="javadoctag"> @param</span> location</span><br><span class="line">     *            the index at which to start searching.</span><br><span class="line">     *<span class="javadoctag"> @return</span> the index in this vector of the specified element, -1 if the</span><br><span class="line">     *         element isn't found.</span><br><span class="line">     *<span class="javadoctag"> @throws</span> ArrayIndexOutOfBoundsException</span><br><span class="line">     *                if &#123;@code location &gt;= size()&#125;.</span><br><span class="line">     *<span class="javadoctag"> @see</span> #contains</span><br><span class="line">     *<span class="javadoctag"> @see</span> #indexOf(Object)</span><br><span class="line">     *<span class="javadoctag"> @see</span> #indexOf(Object, int)</span><br><span class="line">     */</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">synchronized</span> <span class="keyword">int</span> <span class="title">lastIndexOf</span><span class="params">(Object object, <span class="keyword">int</span> location)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">if</span> (location &lt; elementCount) &#123;</span><br><span class="line">            <span class="keyword">if</span> (object != <span class="keyword">null</span>) &#123;</span><br><span class="line">                <span class="keyword">for</span> (<span class="keyword">int</span> i = location; i &gt;= <span class="number">0</span>; i--) &#123;</span><br><span class="line">                    <span class="keyword">if</span> (object.equals(elementData[i])) &#123;</span><br><span class="line">                        <span class="keyword">return</span> i;</span><br><span class="line">                    &#125;</span><br><span class="line">                &#125;</span><br><span class="line">            &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">                <span class="keyword">for</span> (<span class="keyword">int</span> i = location; i &gt;= <span class="number">0</span>; i--) &#123;</span><br><span class="line">                    <span class="keyword">if</span> (elementData[i] == <span class="keyword">null</span>) &#123;</span><br><span class="line">                        <span class="keyword">return</span> i;</span><br><span class="line">                    &#125;</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="keyword">return</span> -<span class="number">1</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">throw</span> arrayIndexOutOfBoundsException(location, elementCount);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="javadoc">/**</span><br><span class="line">     * Removes the object at the specified location from this vector. All</span><br><span class="line">     * elements with an index bigger than &#123;@code location&#125; have their index</span><br><span class="line">     * decreased by 1.</span><br><span class="line">     *</span><br><span class="line">     *<span class="javadoctag"> @param</span> location</span><br><span class="line">     *            the index of the object to remove.</span><br><span class="line">     *<span class="javadoctag"> @return</span> the removed object.</span><br><span class="line">     *<span class="javadoctag"> @throws</span> IndexOutOfBoundsException</span><br><span class="line">     *                if &#123;@code location &lt; 0 || location &gt;= size()&#125;.</span><br><span class="line">     */</span></span><br><span class="line">    <span class="annotation">@SuppressWarnings</span>(<span class="string">"unchecked"</span>)</span><br><span class="line">    <span class="annotation">@Override</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">synchronized</span> E <span class="title">remove</span><span class="params">(<span class="keyword">int</span> location)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">if</span> (location &lt; elementCount) &#123;</span><br><span class="line">            E result = (E) elementData[location];</span><br><span class="line">            elementCount--;</span><br><span class="line">            <span class="keyword">int</span> size = elementCount - location;</span><br><span class="line">            <span class="keyword">if</span> (size &gt; <span class="number">0</span>) &#123;</span><br><span class="line">                System.arraycopy(elementData, location + <span class="number">1</span>, elementData,</span><br><span class="line">                        location, size);</span><br><span class="line">            &#125;</span><br><span class="line">            elementData[elementCount] = <span class="keyword">null</span>;</span><br><span class="line">            modCount++;</span><br><span class="line">            <span class="keyword">return</span> result;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">throw</span> arrayIndexOutOfBoundsException(location, elementCount);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="javadoc">/**</span><br><span class="line">     * Removes the first occurrence, starting at the beginning and moving</span><br><span class="line">     * towards the end, of the specified object from this vector. All elements</span><br><span class="line">     * with an index bigger than the element that gets removed have their index</span><br><span class="line">     * decreased by 1.</span><br><span class="line">     *</span><br><span class="line">     *<span class="javadoctag"> @param</span> object</span><br><span class="line">     *            the object to remove from this vector.</span><br><span class="line">     *<span class="javadoctag"> @return</span> &#123;@code true&#125; if the specified object was found, &#123;@code false&#125;</span><br><span class="line">     *         otherwise.</span><br><span class="line">     *<span class="javadoctag"> @see</span> #removeAllElements</span><br><span class="line">     *<span class="javadoctag"> @see</span> #removeElementAt</span><br><span class="line">     *<span class="javadoctag"> @see</span> #size</span><br><span class="line">     */</span></span><br><span class="line">    <span class="annotation">@Override</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">boolean</span> <span class="title">remove</span><span class="params">(Object object)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> removeElement(object);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="javadoc">/**</span><br><span class="line">     * Removes all occurrences in this vector of each object in the specified</span><br><span class="line">     * Collection.</span><br><span class="line">     *</span><br><span class="line">     *<span class="javadoctag"> @param</span> collection</span><br><span class="line">     *            the collection of objects to remove.</span><br><span class="line">     *<span class="javadoctag"> @return</span> &#123;@code true&#125; if this vector is modified, &#123;@code false&#125; otherwise.</span><br><span class="line">     *<span class="javadoctag"> @see</span> #remove(Object)</span><br><span class="line">     *<span class="javadoctag"> @see</span> #contains(Object)</span><br><span class="line">     */</span></span><br><span class="line">    <span class="annotation">@Override</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">synchronized</span> <span class="keyword">boolean</span> <span class="title">removeAll</span><span class="params">(Collection&lt;?&gt; collection)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="keyword">super</span>.removeAll(collection);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="javadoc">/**</span><br><span class="line">     * Removes all elements from this vector, leaving the size zero and the</span><br><span class="line">     * capacity unchanged.</span><br><span class="line">     *</span><br><span class="line">     *<span class="javadoctag"> @see</span> #isEmpty</span><br><span class="line">     *<span class="javadoctag"> @see</span> #size</span><br><span class="line">     */</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">synchronized</span> <span class="keyword">void</span> <span class="title">removeAllElements</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; elementCount; i++) &#123;</span><br><span class="line">            elementData[i] = <span class="keyword">null</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        modCount++;</span><br><span class="line">        elementCount = <span class="number">0</span>;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="javadoc">/**</span><br><span class="line">     * Removes the first occurrence, starting at the beginning and moving</span><br><span class="line">     * towards the end, of the specified object from this vector. All elements</span><br><span class="line">     * with an index bigger than the element that gets removed have their index</span><br><span class="line">     * decreased by 1.</span><br><span class="line">     *</span><br><span class="line">     *<span class="javadoctag"> @param</span> object</span><br><span class="line">     *            the object to remove from this vector.</span><br><span class="line">     *<span class="javadoctag"> @return</span> &#123;@code true&#125; if the specified object was found, &#123;@code false&#125;</span><br><span class="line">     *         otherwise.</span><br><span class="line">     *<span class="javadoctag"> @see</span> #removeAllElements</span><br><span class="line">     *<span class="javadoctag"> @see</span> #removeElementAt</span><br><span class="line">     *<span class="javadoctag"> @see</span> #size</span><br><span class="line">     */</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">synchronized</span> <span class="keyword">boolean</span> <span class="title">removeElement</span><span class="params">(Object object)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">int</span> index;</span><br><span class="line">        <span class="keyword">if</span> ((index = indexOf(object, <span class="number">0</span>)) == -<span class="number">1</span>) &#123;</span><br><span class="line">            <span class="keyword">return</span> <span class="keyword">false</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        removeElementAt(index);</span><br><span class="line">        <span class="keyword">return</span> <span class="keyword">true</span>;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="javadoc">/**</span><br><span class="line">     * Removes the element found at index position &#123;@code location&#125; from</span><br><span class="line">     * this &#123;@code Vector&#125;. All elements with an index bigger than</span><br><span class="line">     * &#123;@code location&#125; have their index decreased by 1.</span><br><span class="line">     *</span><br><span class="line">     *<span class="javadoctag"> @param</span> location</span><br><span class="line">     *            the index of the element to remove.</span><br><span class="line">     *<span class="javadoctag"> @throws</span> ArrayIndexOutOfBoundsException</span><br><span class="line">     *                if &#123;@code location &lt; 0 || location &gt;= size()&#125;.</span><br><span class="line">     *<span class="javadoctag"> @see</span> #removeElement</span><br><span class="line">     *<span class="javadoctag"> @see</span> #removeAllElements</span><br><span class="line">     *<span class="javadoctag"> @see</span> #size</span><br><span class="line">     */</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">synchronized</span> <span class="keyword">void</span> <span class="title">removeElementAt</span><span class="params">(<span class="keyword">int</span> location)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">if</span> (location &gt;= <span class="number">0</span> &amp;&amp; location &lt; elementCount) &#123;</span><br><span class="line">            elementCount--;</span><br><span class="line">            <span class="keyword">int</span> size = elementCount - location;</span><br><span class="line">            <span class="keyword">if</span> (size &gt; <span class="number">0</span>) &#123;</span><br><span class="line">                System.arraycopy(elementData, location + <span class="number">1</span>, elementData,</span><br><span class="line">                        location, size);</span><br><span class="line">            &#125;</span><br><span class="line">            elementData[elementCount] = <span class="keyword">null</span>;</span><br><span class="line">            modCount++;</span><br><span class="line">        &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">            <span class="keyword">throw</span> arrayIndexOutOfBoundsException(location, elementCount);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="javadoc">/**</span><br><span class="line">     * Removes the objects in the specified range from the start to the, but not</span><br><span class="line">     * including, end index. All elements with an index bigger than or equal to</span><br><span class="line">     * &#123;@code end&#125; have their index decreased by &#123;@code end - start&#125;.</span><br><span class="line">     *</span><br><span class="line">     *<span class="javadoctag"> @param</span> start</span><br><span class="line">     *            the index at which to start removing.</span><br><span class="line">     *<span class="javadoctag"> @param</span> end</span><br><span class="line">     *            the index one past the end of the range to remove.</span><br><span class="line">     *<span class="javadoctag"> @throws</span> IndexOutOfBoundsException</span><br><span class="line">     *                if &#123;@code start &lt; 0, start &gt; end&#125; or</span><br><span class="line">     *                &#123;@code end &gt; size()&#125;.</span><br><span class="line">     */</span></span><br><span class="line">    <span class="annotation">@Override</span></span><br><span class="line">    <span class="function"><span class="keyword">protected</span> <span class="keyword">void</span> <span class="title">removeRange</span><span class="params">(<span class="keyword">int</span> start, <span class="keyword">int</span> end)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">if</span> (start &gt;= <span class="number">0</span> &amp;&amp; start &lt;= end &amp;&amp; end &lt;= elementCount) &#123;</span><br><span class="line">            <span class="keyword">if</span> (start == end) &#123;</span><br><span class="line">                <span class="keyword">return</span>;</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="keyword">if</span> (end != elementCount) &#123;</span><br><span class="line">                System.arraycopy(elementData, end, elementData, start,</span><br><span class="line">                        elementCount - end);</span><br><span class="line">                <span class="keyword">int</span> newCount = elementCount - (end - start);</span><br><span class="line">                Arrays.fill(elementData, newCount, elementCount, <span class="keyword">null</span>);</span><br><span class="line">                elementCount = newCount;</span><br><span class="line">            &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">                Arrays.fill(elementData, start, elementCount, <span class="keyword">null</span>);</span><br><span class="line">                elementCount = start;</span><br><span class="line">            &#125;</span><br><span class="line">            modCount++;</span><br><span class="line">        &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">            <span class="keyword">throw</span> <span class="keyword">new</span> IndexOutOfBoundsException();</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="javadoc">/**</span><br><span class="line">     * Removes all objects from this vector that are not contained in the</span><br><span class="line">     * specified collection.</span><br><span class="line">     *</span><br><span class="line">     *<span class="javadoctag"> @param</span> collection</span><br><span class="line">     *            the collection of objects to retain.</span><br><span class="line">     *<span class="javadoctag"> @return</span> &#123;@code true&#125; if this vector is modified, &#123;@code false&#125; otherwise.</span><br><span class="line">     *<span class="javadoctag"> @see</span> #remove(Object)</span><br><span class="line">     */</span></span><br><span class="line">    <span class="annotation">@Override</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">synchronized</span> <span class="keyword">boolean</span> <span class="title">retainAll</span><span class="params">(Collection&lt;?&gt; collection)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="keyword">super</span>.retainAll(collection);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="javadoc">/**</span><br><span class="line">     * Replaces the element at the specified location in this vector with the</span><br><span class="line">     * specified object.</span><br><span class="line">     *</span><br><span class="line">     *<span class="javadoctag"> @param</span> location</span><br><span class="line">     *            the index at which to put the specified object.</span><br><span class="line">     *<span class="javadoctag"> @param</span> object</span><br><span class="line">     *            the object to add to this vector.</span><br><span class="line">     *<span class="javadoctag"> @return</span> the previous element at the location.</span><br><span class="line">     *<span class="javadoctag"> @throws</span> ArrayIndexOutOfBoundsException</span><br><span class="line">     *                if &#123;@code location &lt; 0 || location &gt;= size()&#125;.</span><br><span class="line">     *<span class="javadoctag"> @see</span> #size</span><br><span class="line">     */</span></span><br><span class="line">    <span class="annotation">@SuppressWarnings</span>(<span class="string">"unchecked"</span>)</span><br><span class="line">    <span class="annotation">@Override</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">synchronized</span> E <span class="title">set</span><span class="params">(<span class="keyword">int</span> location, E object)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">if</span> (location &lt; elementCount) &#123;</span><br><span class="line">            E result = (E) elementData[location];</span><br><span class="line">            elementData[location] = object;</span><br><span class="line">            <span class="keyword">return</span> result;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">throw</span> arrayIndexOutOfBoundsException(location, elementCount);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="javadoc">/**</span><br><span class="line">     * Replaces the element at the specified location in this vector with the</span><br><span class="line">     * specified object.</span><br><span class="line">     *</span><br><span class="line">     *<span class="javadoctag"> @param</span> object</span><br><span class="line">     *            the object to add to this vector.</span><br><span class="line">     *<span class="javadoctag"> @param</span> location</span><br><span class="line">     *            the index at which to put the specified object.</span><br><span class="line">     *<span class="javadoctag"> @throws</span> ArrayIndexOutOfBoundsException</span><br><span class="line">     *                if &#123;@code location &lt; 0 || location &gt;= size()&#125;.</span><br><span class="line">     *<span class="javadoctag"> @see</span> #size</span><br><span class="line">     */</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">synchronized</span> <span class="keyword">void</span> <span class="title">setElementAt</span><span class="params">(E object, <span class="keyword">int</span> location)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">if</span> (location &lt; elementCount) &#123;</span><br><span class="line">            elementData[location] = object;</span><br><span class="line">        &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">            <span class="keyword">throw</span> arrayIndexOutOfBoundsException(location, elementCount);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="javadoc">/**</span><br><span class="line">     * This method was extracted to encourage VM to inline callers.</span><br><span class="line">     * TODO: when we have a VM that can actually inline, move the test in here too!</span><br><span class="line">     */</span></span><br><span class="line">    <span class="function"><span class="keyword">private</span> <span class="keyword">static</span> ArrayIndexOutOfBoundsException <span class="title">arrayIndexOutOfBoundsException</span><span class="params">(<span class="keyword">int</span> index, <span class="keyword">int</span> size)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">throw</span> <span class="keyword">new</span> ArrayIndexOutOfBoundsException(size, index);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="javadoc">/**</span><br><span class="line">     * Sets the size of this vector to the specified size. If there are more</span><br><span class="line">     * than length elements in this vector, the elements at end are lost. If</span><br><span class="line">     * there are less than length elements in the vector, the additional</span><br><span class="line">     * elements contain null.</span><br><span class="line">     *</span><br><span class="line">     *<span class="javadoctag"> @param</span> length</span><br><span class="line">     *            the new size of this vector.</span><br><span class="line">     *<span class="javadoctag"> @see</span> #size</span><br><span class="line">     */</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">synchronized</span> <span class="keyword">void</span> <span class="title">setSize</span><span class="params">(<span class="keyword">int</span> length)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">if</span> (length == elementCount) &#123;</span><br><span class="line">            <span class="keyword">return</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        ensureCapacity(length);</span><br><span class="line">        <span class="keyword">if</span> (elementCount &gt; length) &#123;</span><br><span class="line">            Arrays.fill(elementData, length, elementCount, <span class="keyword">null</span>);</span><br><span class="line">        &#125;</span><br><span class="line">        elementCount = length;</span><br><span class="line">        modCount++;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="javadoc">/**</span><br><span class="line">     * Returns the number of elements in this vector.</span><br><span class="line">     *</span><br><span class="line">     *<span class="javadoctag"> @return</span> the number of elements in this vector.</span><br><span class="line">     *<span class="javadoctag"> @see</span> #elementCount</span><br><span class="line">     *<span class="javadoctag"> @see</span> #lastElement</span><br><span class="line">     */</span></span><br><span class="line">    <span class="annotation">@Override</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">synchronized</span> <span class="keyword">int</span> <span class="title">size</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> elementCount;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="javadoc">/**</span><br><span class="line">     * Returns a List of the specified portion of this vector from the start</span><br><span class="line">     * index to one less than the end index. The returned List is backed by this</span><br><span class="line">     * vector so changes to one are reflected by the other.</span><br><span class="line">     *</span><br><span class="line">     *<span class="javadoctag"> @param</span> start</span><br><span class="line">     *            the index at which to start the sublist.</span><br><span class="line">     *<span class="javadoctag"> @param</span> end</span><br><span class="line">     *            the index one past the end of the sublist.</span><br><span class="line">     *<span class="javadoctag"> @return</span> a List of a portion of this vector.</span><br><span class="line">     *<span class="javadoctag"> @throws</span> IndexOutOfBoundsException</span><br><span class="line">     *                if &#123;@code start &lt; 0&#125; or &#123;@code end &gt; size()&#125;.</span><br><span class="line">     *<span class="javadoctag"> @throws</span> IllegalArgumentException</span><br><span class="line">     *                if &#123;@code start &gt; end&#125;.</span><br><span class="line">     */</span></span><br><span class="line">    <span class="annotation">@Override</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">synchronized</span> List&lt;E&gt; <span class="title">subList</span><span class="params">(<span class="keyword">int</span> start, <span class="keyword">int</span> end)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="keyword">new</span> Collections.SynchronizedRandomAccessList&lt;E&gt;(<span class="keyword">super</span>.subList(</span><br><span class="line">                start, end), <span class="keyword">this</span>);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="javadoc">/**</span><br><span class="line">     * Returns a new array containing all elements contained in this vector.</span><br><span class="line">     *</span><br><span class="line">     *<span class="javadoctag"> @return</span> an array of the elements from this vector.</span><br><span class="line">     */</span></span><br><span class="line">    <span class="annotation">@Override</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">synchronized</span> Object[] toArray() &#123;</span><br><span class="line">        Object[] result = <span class="keyword">new</span> Object[elementCount];</span><br><span class="line">        System.arraycopy(elementData, <span class="number">0</span>, result, <span class="number">0</span>, elementCount);</span><br><span class="line">        <span class="keyword">return</span> result;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="javadoc">/**</span><br><span class="line">     * Returns an array containing all elements contained in this vector. If the</span><br><span class="line">     * specified array is large enough to hold the elements, the specified array</span><br><span class="line">     * is used, otherwise an array of the same type is created. If the specified</span><br><span class="line">     * array is used and is larger than this vector, the array element following</span><br><span class="line">     * the collection elements is set to null.</span><br><span class="line">     *</span><br><span class="line">     *<span class="javadoctag"> @param</span> contents</span><br><span class="line">     *            the array to fill.</span><br><span class="line">     *<span class="javadoctag"> @return</span> an array of the elements from this vector.</span><br><span class="line">     *<span class="javadoctag"> @throws</span> ArrayStoreException</span><br><span class="line">     *                if the type of an element in this vector cannot be</span><br><span class="line">     *                stored in the type of the specified array.</span><br><span class="line">     */</span></span><br><span class="line">    <span class="annotation">@Override</span></span><br><span class="line">    <span class="annotation">@SuppressWarnings</span>(<span class="string">"unchecked"</span>)</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">synchronized</span> &lt;T&gt; T[] toArray(T[] contents) &#123;</span><br><span class="line">        <span class="keyword">if</span> (elementCount &gt; contents.length) &#123;</span><br><span class="line">            Class&lt;?&gt; ct = contents.getClass().getComponentType();</span><br><span class="line">            contents = (T[]) Array.newInstance(ct, elementCount);</span><br><span class="line">        &#125;</span><br><span class="line">        System.arraycopy(elementData, <span class="number">0</span>, contents, <span class="number">0</span>, elementCount);</span><br><span class="line">        <span class="keyword">if</span> (elementCount &lt; contents.length) &#123;</span><br><span class="line">            contents[elementCount] = <span class="keyword">null</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> contents;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="javadoc">/**</span><br><span class="line">     * Returns the string representation of this vector.</span><br><span class="line">     *</span><br><span class="line">     *<span class="javadoctag"> @return</span> the string representation of this vector.</span><br><span class="line">     *<span class="javadoctag"> @see</span> #elements</span><br><span class="line">     */</span></span><br><span class="line">    <span class="annotation">@Override</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">synchronized</span> String <span class="title">toString</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        <span class="keyword">if</span> (elementCount == <span class="number">0</span>) &#123;</span><br><span class="line">            <span class="keyword">return</span> <span class="string">"[]"</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">int</span> length = elementCount - <span class="number">1</span>;</span><br><span class="line">        StringBuilder buffer = <span class="keyword">new</span> StringBuilder(elementCount * <span class="number">16</span>);</span><br><span class="line">        buffer.append(<span class="string">'['</span>);</span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; length; i++) &#123;</span><br><span class="line">            <span class="keyword">if</span> (elementData[i] == <span class="keyword">this</span>) &#123;</span><br><span class="line">                buffer.append(<span class="string">"(this Collection)"</span>);</span><br><span class="line">            &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">                buffer.append(elementData[i]);</span><br><span class="line">            &#125;</span><br><span class="line">            buffer.append(<span class="string">", "</span>);</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">if</span> (elementData[length] == <span class="keyword">this</span>) &#123;</span><br><span class="line">            buffer.append(<span class="string">"(this Collection)"</span>);</span><br><span class="line">        &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">            buffer.append(elementData[length]);</span><br><span class="line">        &#125;</span><br><span class="line">        buffer.append(<span class="string">']'</span>);</span><br><span class="line">        <span class="keyword">return</span> buffer.toString();</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="javadoc">/**</span><br><span class="line">     * Sets the capacity of this vector to be the same as the size.</span><br><span class="line">     *</span><br><span class="line">     *<span class="javadoctag"> @see</span> #capacity</span><br><span class="line">     *<span class="javadoctag"> @see</span> #ensureCapacity</span><br><span class="line">     *<span class="javadoctag"> @see</span> #size</span><br><span class="line">     */</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">synchronized</span> <span class="keyword">void</span> <span class="title">trimToSize</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        <span class="keyword">if</span> (elementData.length != elementCount) &#123;</span><br><span class="line">            grow(elementCount);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">private</span> <span class="keyword">synchronized</span> <span class="keyword">void</span> <span class="title">writeObject</span><span class="params">(ObjectOutputStream stream)</span></span><br><span class="line">            <span class="keyword">throws</span> IOException </span>&#123;</span><br><span class="line">        stream.defaultWriteObject();</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
</li>
</ul>
  
	</div>
		<footer class="article-footer clearfix">
<div class="article-catetags">

<div class="article-categories">
  <span></span>
  <a class="article-category-link" href="/categories/源码学习/">源码学习</a>
</div>


  <div class="article-tags">
  
  <span></span> <a href="/tags/源码学习/">源码学习</a>
  </div>

</div>



	<div class="article-share" id="share">
	
	  <div data-url="http://chenfuduo.me/2015/06/09/Vector源码学习/" data-title="Vector源码学习 | louis.chen" data-tsina="2338582935" class="share clearfix">
	  </div>
	
	</div>


</footer>

   	       
	</article>
	
<nav class="article-nav clearfix">
 
 <div class="prev" >
 <a href="/2015/06/09/HashMap源码学习/" title="HashMap源码学习">
  <strong>上一篇：</strong><br/>
  <span>
  HashMap源码学习</span>
</a>
</div>


<div class="next">
<a href="/2015/06/09/LinkedList源码学习/"  title="LinkedList源码学习">
 <strong>下一篇：</strong><br/> 
 <span>LinkedList源码学习
</span>
</a>
</div>

</nav>

	
<section id="comments" class="comment">
	<div class="ds-thread" data-thread-key="2015/06/09/Vector源码学习/" data-title="Vector源码学习" data-url="http://chenfuduo.me/2015/06/09/Vector源码学习/"></div>
</section>


</div>  
      <div class="openaside"><a class="navbutton" href="#" title="显示侧边栏"></a></div>

  <div id="toc" class="toc-aside">
  <strong class="toc-title">文章目录</strong>
 
 <ol class="toc"><li class="toc-item toc-level-1"><a class="toc-link" href="#开头的注释"><span class="toc-number">1.</span> <span class="toc-text">开头的注释</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#实现的接口"><span class="toc-number">2.</span> <span class="toc-text">实现的接口</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#Vector的自动扩容机制"><span class="toc-number">3.</span> <span class="toc-text">Vector的自动扩容机制</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#移除元素，克隆和包含"><span class="toc-number">4.</span> <span class="toc-text">移除元素，克隆和包含</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#复制Vector中的元素到数组"><span class="toc-number">5.</span> <span class="toc-text">复制Vector中的元素到数组</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#返回指定位置的元素"><span class="toc-number">6.</span> <span class="toc-text">返回指定位置的元素</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#返回当前Vector元素的枚举"><span class="toc-number">7.</span> <span class="toc-text">返回当前Vector元素的枚举</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#确保Vector的容量"><span class="toc-number">8.</span> <span class="toc-text">确保Vector的容量</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#重写equals方法"><span class="toc-number">9.</span> <span class="toc-text">重写equals方法</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#从Vector中取元素"><span class="toc-number">10.</span> <span class="toc-text">从Vector中取元素</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#重写hashCode()方法"><span class="toc-number">11.</span> <span class="toc-text">重写hashCode()方法</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#取得元素的索引"><span class="toc-number">12.</span> <span class="toc-text">取得元素的索引</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#插入元素"><span class="toc-number">13.</span> <span class="toc-text">插入元素</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#判空和取得最后一个元素"><span class="toc-number">14.</span> <span class="toc-text">判空和取得最后一个元素</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#移除元素"><span class="toc-number">15.</span> <span class="toc-text">移除元素</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#求其与collection的交集"><span class="toc-number">16.</span> <span class="toc-text">求其与collection的交集</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#设置元素"><span class="toc-number">17.</span> <span class="toc-text">设置元素</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#运行时异常"><span class="toc-number">18.</span> <span class="toc-text">运行时异常</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#设定Vector中元素的个数"><span class="toc-number">19.</span> <span class="toc-text">设定Vector中元素的个数</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#返回元素个数"><span class="toc-number">20.</span> <span class="toc-text">返回元素个数</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#返回指定范围的List"><span class="toc-number">21.</span> <span class="toc-text">返回指定范围的List</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#返回当前元素的数组"><span class="toc-number">22.</span> <span class="toc-text">返回当前元素的数组</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#重写的toString()"><span class="toc-number">23.</span> <span class="toc-text">重写的toString()</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#将当前容量调整到元素数量大小"><span class="toc-number">24.</span> <span class="toc-text">将当前容量调整到元素数量大小</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#序列化"><span class="toc-number">25.</span> <span class="toc-text">序列化</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#总结"><span class="toc-number">26.</span> <span class="toc-text">总结</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#源代码"><span class="toc-number">27.</span> <span class="toc-text">源代码</span></a></li></ol>
 
  </div>

<div id="asidepart">
<div class="closeaside"><a class="closebutton" href="#" title="隐藏侧边栏"></a></div>
<aside class="clearfix">

  
<div class="categorieslist">
	<p class="asidetitle">分类</p>
		<ul>
		
		  
			<li><a href="/categories/JVM/" title="JVM">JVM<sup>2</sup></a></li>
		  
		
		  
			<li><a href="/categories/收藏/" title="收藏">收藏<sup>1</sup></a></li>
		  
		
		  
		
		  
			<li><a href="/categories/源码学习/" title="源码学习">源码学习<sup>5</sup></a></li>
		  
		
		  
			<li><a href="/categories/生活/" title="生活">生活<sup>2</sup></a></li>
		  
		
		  
			<li><a href="/categories/移动开发/" title="移动开发">移动开发<sup>27</sup></a></li>
		  
		
		  
			<li><a href="/categories/算法/" title="算法">算法<sup>36</sup></a></li>
		  
		
		</ul>
</div>


  
<div class="tagslist">
	<p class="asidetitle">标签</p>
		<ul class="clearfix">
		
			
				<li><a href="/tags/算法/" title="算法">算法<sup>36</sup></a></li>
			
		
			
				<li><a href="/tags/移动开发/" title="移动开发">移动开发<sup>27</sup></a></li>
			
		
			
				<li><a href="/tags/源码学习/" title="源码学习">源码学习<sup>5</sup></a></li>
			
		
			
				<li><a href="/tags/生活/" title="生活">生活<sup>2</sup></a></li>
			
		
			
				<li><a href="/tags/JVM/" title="JVM">JVM<sup>2</sup></a></li>
			
		
			
				<li><a href="/tags/收藏/" title="收藏">收藏<sup>1</sup></a></li>
			
		
		</ul>
</div>


  <div class="linkslist">
  <p class="asidetitle">友情链接</p>
    <ul>
        
          <li>
            
            	<a href="http://www.vogella.com/tutorials/android.html" target="_blank" title="Vogella">Vogella</a>
            
          </li>
        
    </ul>
</div>

  <div class="weiboshow">
  <p class="asidetitle">新浪微博</p>
    <iframe width="100%" height="119" class="share_self"  frameborder="0" scrolling="no" src="http://widget.weibo.com/weiboshow/index.php?language=&width=0&height=119&fansRow=2&ptype=1&speed=0&skin=9&isTitle=1&noborder=1&isWeibo=0&isFans=0&uid=2338582935&verifier=59b78413&dpc=1"></iframe>
</div>


  <div class="rsspart">
	<a href="/atom.xml" target="_blank" title="rss">RSS 订阅</a>
</div>

</aside>
</div>
    </div>
    <footer><div id="footer" >
	
	<div class="line">
		<span></span>
		<div class="author"></div>
	</div>
	
	
	<section class="info">
		<p> louis.chen,student of USTC,Focus on mobile develop. <br/>
			It is my amibition to make beautiful apps.</p>
	</section>
	 
	<div class="social-font" class="clearfix">
		
		<a href="http://weibo.com/2338582935" target="_blank" class="icon-weibo" title="微博"></a>
		
		
		<a href="https://github.com/leerduo" target="_blank" class="icon-github" title="github"></a>
		
		
		
		
		
		
		
		
		
	</div>
			
		

		<p class="copyright">
		Powered by <a href="http://hexo.io" target="_blank" title="hexo">hexo</a> and Theme by <a href="https://github.com/wuchong/jacman" target="_blank" title="Jacman">Jacman</a> © 2015 
		
		<a href="/about" target="_blank" title="louis.chen">louis.chen</a>
		
		
		</p>
</div>
</footer>
    <script src="/js/jquery-2.0.3.min.js"></script>
<script src="/js/jquery.imagesloaded.min.js"></script>
<script src="/js/gallery.js"></script>

<script type="text/javascript">
$(document).ready(function(){ 
  $('.navbar').click(function(){
    $('header nav').toggleClass('shownav');
  });
  var myWidth = 0;
  function getSize(){
    if( typeof( window.innerWidth ) == 'number' ) {
      myWidth = window.innerWidth;
    } else if( document.documentElement && document.documentElement.clientWidth) {
      myWidth = document.documentElement.clientWidth;
    };
  };
  var m = $('#main'),
      a = $('#asidepart'),
      c = $('.closeaside'),
      o = $('.openaside');
  c.click(function(){
    a.addClass('fadeOut').css('display', 'none');
    o.css('display', 'block').addClass('fadeIn');
    m.addClass('moveMain');
  });
  o.click(function(){
    o.css('display', 'none').removeClass('beforeFadeIn');
    a.css('display', 'block').removeClass('fadeOut').addClass('fadeIn');      
    m.removeClass('moveMain');
  });
  $(window).scroll(function(){
    o.css("top",Math.max(80,260-$(this).scrollTop()));
  });
  
        getSize();
        if (myWidth >= 1024) {
          c.click();
        }
  
  $(window).resize(function(){
    getSize(); 
    if (myWidth >= 1024) {
      $('header nav').removeClass('shownav');
    }else{
      m.removeClass('moveMain');
      a.css('display', 'block').removeClass('fadeOut');
      o.css('display', 'none');
      
      $('#toc.toc-aside').css('display', 'none');
        
    }
  });
});
</script>

<script type="text/javascript">
$(document).ready(function(){ 
  var ai = $('.article-content>iframe'),
      ae = $('.article-content>embed'),
      t  = $('#toc'),
      ta = $('#toc.toc-aside'),
      o  = $('.openaside'),
      c  = $('.closeaside');
  if(ai.length>0){
    ai.wrap('<div class="video-container" />');
  };
  if(ae.length>0){
   ae.wrap('<div class="video-container" />');
  };
  c.click(function(){
    ta.css('display', 'block').addClass('fadeIn');
  });
  o.click(function(){
    ta.css('display', 'none');
  });
  $(window).scroll(function(){
    ta.css("top",Math.max(140,320-$(this).scrollTop()));
  });
});
</script>


<script type="text/javascript">
$(document).ready(function(){ 
  var $this = $('.share'),
      url = $this.attr('data-url'),
      encodedUrl = encodeURIComponent(url),
      title = $this.attr('data-title'),
      tsina = $this.attr('data-tsina'),
      description = $this.attr('description');
  var html = [
  '<a href="#" class="overlay" id="qrcode"></a>',
  '<div class="qrcode clearfix"><span>扫描二维码分享到微信朋友圈</span><a class="qrclose" href="#nothing"></a><strong>Loading...Please wait</strong><img id="qrcode-pic" data-src="http://s.jiathis.com/qrcode.php?url=' + encodedUrl + '"/></div>',
  '<a href="https://www.facebook.com/sharer.php?u=' + encodedUrl + '" class="article-share-facebook" target="_blank" title="Facebook"></a>',
  '<a href="https://twitter.com/intent/tweet?url=' + encodedUrl + '" class="article-share-twitter" target="_blank" title="Twitter"></a>',
  '<a href="#qrcode" class="article-share-qrcode" title="微信"></a>',
  '<a href="http://widget.renren.com/dialog/share?resourceUrl=' + encodedUrl + '&srcUrl=' + encodedUrl + '&title=' + title +'" class="article-share-renren" target="_blank" title="人人"></a>',
  '<a href="http://service.weibo.com/share/share.php?title='+title+'&url='+encodedUrl +'&ralateUid='+ tsina +'&searchPic=true&style=number' +'" class="article-share-weibo" target="_blank" title="微博"></a>',
  '<span title="Share to"></span>'
  ].join('');
  $this.append(html);
  $('.article-share-qrcode').click(function(){
    var imgSrc = $('#qrcode-pic').attr('data-src');
    $('#qrcode-pic').attr('src', imgSrc);
    $('#qrcode-pic').load(function(){
        $('.qrcode strong').text(' ');
    });
  });
});     
</script>



<script type="text/javascript">
  var duoshuoQuery = {short_name:"chenlouis"};
  (function() {
    var ds = document.createElement('script');
    ds.type = 'text/javascript';ds.async = true;
    ds.src = '//static.duoshuo.com/embed.js';
    ds.charset = 'UTF-8';
    (document.getElementsByTagName('head')[0] 
    || document.getElementsByTagName('body')[0]).appendChild(ds);
  })();
</script> 







<link rel="stylesheet" href="/fancybox/jquery.fancybox.css" media="screen" type="text/css">
<script src="/fancybox/jquery.fancybox.pack.js"></script>
<script type="text/javascript">
$(document).ready(function(){ 
  $('.article-content').each(function(i){
    $(this).find('img').each(function(){
      if ($(this).parent().hasClass('fancybox')) return;
      var alt = this.alt;
      if (alt) $(this).after('<span class="caption">' + alt + '</span>');
      $(this).wrap('<a href="' + this.src + '" title="' + alt + '" class="fancybox"></a>');
    });
    $(this).find('.fancybox').each(function(){
      $(this).attr('rel', 'article' + i);
    });
  });
  if($.fancybox){
    $('.fancybox').fancybox();
  }
}); 
</script>



<!-- Analytics Begin -->



<script type="text/javascript">
var _bdhmProtocol = (("https:" == document.location.protocol) ? " https://" : " http://");
document.write(unescape("%3Cscript src='" + _bdhmProtocol + "hm.baidu.com/h.js%3F63c029dba1e367df2c8ffa39a309056a' type='text/javascript'%3E%3C/script%3E"));
</script>



<!-- Analytics End -->

<!-- Totop Begin -->

	<div id="totop">
	<a title="返回顶部"><img src="/img/scrollup.png"/></a>
	</div>
	<script src="/js/totop.js"></script>

<!-- Totop End -->

<!-- MathJax Begin -->
<!-- mathjax config similar to math.stackexchange -->


<!-- MathJax End -->

<!-- Tiny_search Begin -->

<!-- Tiny_search End -->

  </body>
</html>
