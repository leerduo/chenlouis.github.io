
 <!DOCTYPE HTML>
<html lang="zh-CN">
<head>
  <meta charset="UTF-8">
  
    <title>Sending the User to Another App | louis.chen</title>
    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=3, minimum-scale=1">
    
    <meta name="author" content="louis.chen">
    
    <meta name="description" content="One of Android’s most important features is an app’s ability to send the user to another app based on an “action” it would like to perform. For exampl">
    
    
    
    
    
    <link rel="icon" href="/img/favicon.ico">
    
    
    <link rel="apple-touch-icon" href="/img/pacman.jpg">
    <link rel="apple-touch-icon-precomposed" href="/img/pacman.jpg">
    
    <link rel="stylesheet" href="/css/style.css" type="text/css">
</head>

  <body>
    <header>
      <div>
		
			<div id="imglogo">
				<a href="/"><img src="/img/logo.svg" alt="louis.chen" title="louis.chen"/></a>
			</div>
			
			<div id="textlogo">
				<h1 class="site-name"><a href="/" title="louis.chen">louis.chen</a></h1>
				<h2 class="blog-motto">Mobile developers,experience extreme product.</h2>
			</div>
			<div class="navbar"><a class="navbutton navmobile" href="#" title="菜单">
			</a></div>
			<nav class="animated">
				<ul>
					
						<li><a href="/">博客</a></li>
					
						<li><a href="/archives">归档</a></li>
					
					<li>
					
					<form class="search" action="//google.com/search" method="get" accept-charset="utf-8">
						<label>Search</label>
						<input type="text" id="search" name="q" autocomplete="off" maxlength="20" placeholder="搜索" />
						<input type="hidden" name="q" value="site:yoursite.com">
					</form>
					
					</li>
				</ul>
			</nav>			
</div>

    </header>
    <div id="container">
      <div id="main" class="post" itemscope itemprop="blogPost">
	<article itemprop="articleBody"> 
		<header class="article-info clearfix">
  <h1 itemprop="name">
    
      <a href="/2015/03/17/sending-the-user-to-another-app/" title="Sending the User to Another App" itemprop="url">Sending the User to Another App</a>
  </h1>
  <p class="article-author">By
    
      <a href="http://yoursite.com" title="louis.chen">louis.chen</a>
    </p>
  <p class="article-time">
    <time datetime="2015-03-17T00:47:15.000Z" itemprop="datePublished">2015-03-17</time>
    更新日期:<time datetime="2015-04-20T07:21:35.638Z" itemprop="dateModified">2015-04-20</time>
    
  </p>
</header>
	<div class="article-content">
		
		
		<div id="toc" class="toc-article">
			<strong class="toc-title">文章目录</strong>
		<ol class="toc"><li class="toc-item toc-level-2"><a class="toc-link" href="#Build_an_Implicit_Intent"><span class="toc-number">1.</span> <span class="toc-text">Build an Implicit Intent</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Verify_There_is_an_App_to_Receive_the_Intent"><span class="toc-number">2.</span> <span class="toc-text">Verify There is an App to Receive the Intent</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Start_an_Activity_with_the_Intent"><span class="toc-number">3.</span> <span class="toc-text">Start an Activity with the Intent</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Show_an_App_Chooser"><span class="toc-number">4.</span> <span class="toc-text">Show an App Chooser</span></a></li></ol>
		</div>
		
		<p>One of Android’s most important features is an app’s ability to send the user to another app based on an “action” it would like to perform. For example, if your app has the address of a business that you’d like to show on a map, you don’t have to build an activity in your app that shows a map. Instead, you can create a request to view the address using an <code>[Intent](file:///D:/Users/Administrator/AppData/Local/Android/sdk/docs/reference/android/content/Intent.html)</code>. The Android system then starts an app that’s able to show the address on a map.</p>
<p>As explained in the first class, <a href="file:///D:/Users/Administrator/AppData/Local/Android/sdk/docs/training/basics/firstapp/index.html" target="_blank" rel="external">Building Your First App</a>, you must use intents to navigate between activities in your own app. You generally do so with an <em>explicit intent</em>, which defines the exact class name of the component you want to start. However, when you want to have a separate app perform an action, such as “view a map,” you must use an <em>implicit intent</em>.</p>
<p>This lesson shows you how to create an implicit intent for a particular action, and how to use it to start an activity that performs the action in another app.</p>
<h2 id="Build_an_Implicit_Intent">Build an Implicit Intent</h2><hr>
<p>Implicit intents do not declare the class name of the component to start, but instead declare an action to perform. The action specifies the thing you want to do, such as <em>view</em>, <em>edit</em>, <em>send</em>, or <em>get</em> something. Intents often also include data associated with the action, such as the address you want to view, or the email message you want to send. Depending on the intent you want to create, the data might be a <code>[Uri](file:///D:/Users/Administrator/AppData/Local/Android/sdk/docs/reference/android/net/Uri.html)</code>, one of several other data types, or the intent might not need data at all.</p>
<p>If your data is a <code>[Uri](file:///D:/Users/Administrator/AppData/Local/Android/sdk/docs/reference/android/net/Uri.html)</code>, there’s a simple <code>[Intent()](file:///D:/Users/Administrator/AppData/Local/Android/sdk/docs/reference/android/content/Intent.html#Intent(java.lang.String, android.net.Uri))</code> constructor you can use define the action and data.</p>
<p>For example, here’s how to create an intent to initiate a phone call using the <code>[Uri](file:///D:/Users/Administrator/AppData/Local/Android/sdk/docs/reference/android/net/Uri.html)</code> data to specify the telephone number:</p>
<p>[java]Uri number = Uri.parse(&quot;tel:5551234&quot;);<br>Intent callIntent = new Intent(Intent.ACTION_DIAL, number);[/java]</p>
<p>When your app invokes this intent by calling <code>[startActivity()](file:///D:/Users/Administrator/AppData/Local/Android/sdk/docs/reference/android/app/Activity.html#startActivity(android.content.Intent))</code>, the Phone app initiates a call to the given phone number.</p>
<p>Here are a couple other intents and their action and <code>[Uri](file:///D:/Users/Administrator/AppData/Local/Android/sdk/docs/reference/android/net/Uri.html)</code> data pairs:</p>
<ul>
<li>View a map:[java]// Map point based on address<br>Uri location = Uri.parse(&quot;geo:0,0?q=1600+Amphitheatre+Parkway,+Mountain+View,+California&quot;);<br>// Or map point based on latitude/longitude<br>// Uri location = Uri.parse(&quot;geo:37.422219,-122.08364?z=14&quot;); // z param is zoom level<br>Intent mapIntent = new Intent(Intent.ACTION_VIEW, location);[/java]</li>
<li>View a web page:[java]Uri webpage = Uri.parse(&quot;<a href="http://www.android.com&amp;quot" target="_blank" rel="external">http://www.android.com&amp;quot</a>;);<br>Intent webIntent = new Intent(Intent.ACTION_VIEW, webpage);[/java]<br>Other kinds of implicit intents require “extra” data that provide different data types, such as a string. You can add one or more pieces of extra data using the various <code>[putExtra()](file:///D:/Users/Administrator/AppData/Local/Android/sdk/docs/reference/android/content/Intent.html#putExtra(java.lang.String, java.lang.String))</code> methods.</li>
</ul>
<p>By default, the system determines the appropriate MIME type required by an intent based on the <code>[Uri](file:///D:/Users/Administrator/AppData/Local/Android/sdk/docs/reference/android/net/Uri.html)</code> data that’s included. If you don’t include a <code>[Uri](file:///D:/Users/Administrator/AppData/Local/Android/sdk/docs/reference/android/net/Uri.html)</code> in the intent, you should usually use <code>[setType()](file:///D:/Users/Administrator/AppData/Local/Android/sdk/docs/reference/android/content/Intent.html#setType(java.lang.String))</code> to specify the type of data associated with the intent. Setting the MIME type further specifies which kinds of activities should receive the intent.</p>
<p>Here are some more intents that add extra data to specify the desired action:</p>
<ul>
<li>Send an email with an attachment:[java]Intent emailIntent = new Intent(Intent.ACTION_SEND);<br>// The intent does not have a URI, so declare the &quot;text/plain&quot; MIME type<br>emailIntent.setType(HTTP.PLAIN_TEXT_TYPE);<br>emailIntent.putExtra(Intent.EXTRA_EMAIL, new String[] {&quot;jon@example.com&quot;}); // recipients<br>emailIntent.putExtra(Intent.EXTRA_SUBJECT, &quot;Email subject&quot;);<br>emailIntent.putExtra(Intent.EXTRA_TEXT, &quot;Email message text&quot;);<br>emailIntent.putExtra(Intent.EXTRA_STREAM, Uri.parse(&quot;content://path/to/email/attachment&quot;));<br>// You can also attach multiple items by passing an ArrayList of Uris[/java]</li>
<li>Create a calendar event:[java]Intent calendarIntent = new Intent(Intent.ACTION_INSERT, Events.CONTENT_URI);<br>Calendar beginTime = Calendar.getInstance().set(2012, 0, 19, 7, 30);<br>Calendar endTime = Calendar.getInstance().set(2012, 0, 19, 10, 30);<br>calendarIntent.putExtra(CalendarContract.EXTRA_EVENT_BEGIN_TIME, beginTime.getTimeInMillis());<br>calendarIntent.putExtra(CalendarContract.EXTRA_EVENT_END_TIME, endTime.getTimeInMillis());<br>calendarIntent.putExtra(Events.TITLE, &quot;Ninja class&quot;);<br>calendarIntent.putExtra(Events.EVENT_LOCATION, &quot;Secret dojo&quot;);[/java]</li>
</ul>
<p><strong>Note:</strong> This intent for a calendar event is supported only with API level 14 and higher.<br><strong>Note:</strong> It’s important that you define your <code>[Intent](file:///D:/Users/Administrator/AppData/Local/Android/sdk/docs/reference/android/content/Intent.html)</code> to be as specific as possible. For example, if you want to display an image using the <code>[ACTION_VIEW](file:///D:/Users/Administrator/AppData/Local/Android/sdk/docs/reference/android/content/Intent.html#ACTION_VIEW)</code> intent, you should specify a MIME type of <code>image/*</code>. This prevents apps that can “view” other types of data (like a map app) from being triggered by the intent.</p>
<h2 id="Verify_There_is_an_App_to_Receive_the_Intent">Verify There is an App to Receive the Intent</h2><hr>
<p>Although the Android platform guarantees that certain intents will resolve to one of the built-in apps (such as the Phone, Email, or Calendar app), you should always include a verification step before invoking an intent.</p>
<p><strong>Caution:</strong> If you invoke an intent and there is no app available on the device that can handle the intent, your app will crash.</p>
<p><span style="color: #000080;">To verify there is an activity available that can respond to the intent, call <code>[&lt;span style=&quot;color: #000080;&quot;&gt;queryIntentActivities()&lt;/span&gt;](file:///D:/Users/Administrator/AppData/Local/Android/sdk/docs/reference/android/content/pm/PackageManager.html#queryIntentActivities(android.content.Intent, int))</code> to get a list of activities capable of handling your <code>[&lt;span style=&quot;color: #000080;&quot;&gt;Intent&lt;/span&gt;](file:///D:/Users/Administrator/AppData/Local/Android/sdk/docs/reference/android/content/Intent.html)</code>. If the returned <code>[&lt;span style=&quot;color: #000080;&quot;&gt;List&lt;/span&gt;](file:///D:/Users/Administrator/AppData/Local/Android/sdk/docs/reference/java/util/List.html)</code> is not empty, you can safely use the intent.</span> For example:</p>
<p>[java]PackageManager packageManager = &lt;code&gt;&lt;a href=&quot;file:///D:/Users/Administrator/AppData/Local/Android/sdk/docs/reference/android/content/Context.html#getPackageManager()&quot;&gt;getPackageManager()&lt;/a&gt;&lt;/code&gt;;<br>List&lt;ResolveInfo&gt; activities = packageManager.queryIntentActivities(intent, 0);<br>boolean isIntentSafe = activities.size() &gt; 0;[/java]</p>
<p>If <code>isIntentSafe</code> is <code>true</code>, then at least one app will respond to the intent. If it is <code>false</code>, then there aren’t any apps to handle the intent.</p>
<p><strong>Note:</strong> You should perform this check when your activity first starts in case you need to disable the feature that uses the intent before the user attempts to use it. If you know of a specific app that can handle the intent, you can also provide a link for the user to download the app (see how to <a href="file:///D:/Users/Administrator/AppData/Local/Android/sdk/docs/distribute/tools/promote/linking.html" target="_blank" rel="external">link to your product on Google Play</a>).</p>
<h2 id="Start_an_Activity_with_the_Intent">Start an Activity with the Intent</h2><hr>
<p><div><img src="file:///D:/Users/Administrator/AppData/Local/Android/sdk/docs/images/training/basics/intents-choice.png" alt=""></div><br>Once you have created your <code>[Intent](file:///D:/Users/Administrator/AppData/Local/Android/sdk/docs/reference/android/content/Intent.html)</code> and set the extra info, call <code>[startActivity()](file:///D:/Users/Administrator/AppData/Local/Android/sdk/docs/reference/android/app/Activity.html#startActivity(android.content.Intent))</code>to send it to the system. If the system identifies more than one activity that can handle the intent, it displays a dialog for the user to select which app to use, as shown in figure 1. If there is only one activity that handles the intent, the system immediately starts it.</p>
<p>[java]startActivity(intent);[/java]</p>
<p>Here’s a complete example that shows how to create an intent to view a map, verify that an app exists to handle the intent, then start it:</p>
<p>[java]// Build the intent<br>Uri location = Uri.parse(&quot;geo:0,0?q=1600+Amphitheatre+Parkway,+Mountain+View,+California&quot;);<br>Intent mapIntent = new Intent(Intent.ACTION_VIEW, location);</p>
<p>// Verify it resolves<br>PackageManager packageManager = &lt;code&gt;&lt;a href=&quot;file:///D:/Users/Administrator/AppData/Local/Android/sdk/docs/reference/android/content/Context.html#getPackageManager()&quot;&gt;getPackageManager()&lt;/a&gt;&lt;/code&gt;;<br>List&lt;ResolveInfo&gt; activities = packageManager.queryIntentActivities(mapIntent, 0);<br>boolean isIntentSafe = activities.size() &gt; 0;</p>
<p>// Start an activity if it’s safe<br>if (isIntentSafe) {<br>startActivity(mapIntent);<br>}[/java]</p>
<h2 id="Show_an_App_Chooser">Show an App Chooser</h2><hr>
<p><div><img src="file:///D:/Users/Administrator/AppData/Local/Android/sdk/docs/images/training/basics/intent-chooser.png" alt="">Notice that when you start an activity by passing your <code>[Intent](file:///D:/Users/Administrator/AppData/Local/Android/sdk/docs/reference/android/content/Intent.html)</code> to<code>[startActivity()](file:///D:/Users/Administrator/AppData/Local/Android/sdk/docs/reference/android/app/Activity.html#startActivity(android.content.Intent))</code> and there is more than one app that responds to the intent, the user can select which app to use by default (by selecting a checkbox at the bottom of the dialog; see figure 1). This is nice when performing an action for which the user generally wants to use the same app every time, such as when opening a web page (users likely use just one web browser) or taking a photo (users likely prefer one camera).</div></p>
<p><br>However, if the action to be performed could be handled by multiple apps and the user might prefer a different app each time—such as a “share” action, for which users might have several apps through which they might share an item—you should explicitly show a chooser dialog as shown in figure 2. The chooser dialog forces the user to select which app to use for the action every time (the user cannot select a default app for the action).</p>
<p><span style="color: #000080;">To show the chooser, create an <code>[&lt;span style=&quot;color: #000080;&quot;&gt;Intent&lt;/span&gt;](file:///D:/Users/Administrator/AppData/Local/Android/sdk/docs/reference/android/content/Intent.html)</code> using <code>[&lt;span style=&quot;color: #000080;&quot;&gt;createChooser()&lt;/span&gt;](file:///D:/Users/Administrator/AppData/Local/Android/sdk/docs/reference/android/content/Intent.html#createChooser(android.content.Intent, java.lang.CharSequence))</code> and pass it to<code>[&lt;span style=&quot;color: #000080;&quot;&gt;startActivity()&lt;/span&gt;](file:///D:/Users/Administrator/AppData/Local/Android/sdk/docs/reference/android/app/Activity.html#startActivity(android.content.Intent))</code>.</span> For example:</p>
<p>[java]Intent intent = new Intent(Intent.ACTION_SEND);<br>…</p>
<p>// Always use string resources for UI text.<br>// This says something like &quot;Share this photo with&quot;<br>String title = getResources().getString(R.string.chooser_title);<br>// Create intent to show chooser<br>Intent chooser = Intent.createChooser(intent, title);</p>
<p>// Verify the intent will resolve to at least one activity<br>if (intent.resolveActivity(getPackageManager()) != null) {<br>startActivity(chooser);<br>}[/java]</p>
<p>This displays a dialog with a list of apps that respond to the intent passed to the <code>[createChooser()](file:///D:/Users/Administrator/AppData/Local/Android/sdk/docs/reference/android/content/Intent.html#createChooser(android.content.Intent, java.lang.CharSequence))</code> method and uses the supplied text as the dialog title.</p>
  
	</div>
		<footer class="article-footer clearfix">


<div class="article-categories">
  <span></span>
  <a class="article-category-link" href="/categories/Training文档/">Training文档</a>
</div>



<div class="article-share" id="share">

  <div data-url="http://yoursite.com/2015/03/17/sending-the-user-to-another-app/" data-title="Sending the User to Another App | louis.chen" data-tsina="null" class="share clearfix">
  </div>

</div>
</footer>   	       
	</article>
	
<nav class="article-nav clearfix">
 
 <div class="prev" >
 <a href="/2015/03/17/getting-a-result-from-an-activity/" title=" Getting a Result from an Activity">
  <strong>PREVIOUS:</strong><br/>
  <span>
   Getting a Result from an Activity</span>
</a>
</div>


<div class="next">
<a href="/2015/03/16/android-universal-image-loader/"  title="Android-Universal-Image-Loader">
 <strong>NEXT:</strong><br/> 
 <span>Android-Universal-Image-Loader
</span>
</a>
</div>

</nav>

	
<section class="comment">
	<div class="ds-thread"></div>
</section>

</div>  
      <div class="openaside"><a class="navbutton" href="#" title="显示侧边栏"></a></div>

  <div id="toc" class="toc-aside">
  <strong class="toc-title">文章目录</strong>
  <ol class="toc"><li class="toc-item toc-level-2"><a class="toc-link" href="#Build_an_Implicit_Intent"><span class="toc-number">1.</span> <span class="toc-text">Build an Implicit Intent</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Verify_There_is_an_App_to_Receive_the_Intent"><span class="toc-number">2.</span> <span class="toc-text">Verify There is an App to Receive the Intent</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Start_an_Activity_with_the_Intent"><span class="toc-number">3.</span> <span class="toc-text">Start an Activity with the Intent</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Show_an_App_Chooser"><span class="toc-number">4.</span> <span class="toc-text">Show an App Chooser</span></a></li></ol>
  </div>

<div id="asidepart">
<div class="closeaside"><a class="closebutton" href="#" title="隐藏侧边栏"></a></div>
<aside class="clearfix">

  
<div class="categorieslist">
	<p class="asidetitle">分类</p>
		<ul>
		
			<li><a href="/categories/Android开发/" title="Android开发">Android开发<sup>21</sup></a></li>
		
			<li><a href="/categories/Android开源框架/" title="Android开源框架">Android开源框架<sup>4</sup></a></li>
		
			<li><a href="/categories/Android开发/Dandelion/" title="Dandelion">Dandelion<sup>1</sup></a></li>
		
			<li><a href="/categories/Java/" title="Java">Java<sup>1</sup></a></li>
		
			<li><a href="/categories/Android开发/Training文档/" title="Training文档">Training文档<sup>9</sup></a></li>
		
			<li><a href="/categories/Training文档/" title="Training文档">Training文档<sup>9</sup></a></li>
		
			<li><a href="/categories/blog/" title="blog">blog<sup>1</sup></a></li>
		
			<li><a href="/categories/未分类/" title="未分类">未分类<sup>0</sup></a></li>
		
			<li><a href="/categories/自定义控件/" title="自定义控件">自定义控件<sup>4</sup></a></li>
		
		</ul>
</div>


  
<div class="tagslist">
	<p class="asidetitle">标签</p>
		<ul class="clearfix">
		
			<li><a href="/tags/博客/" title="博客">博客<sup>1</sup></a></li>
		
			<li><a href="/tags/文章/" title="文章">文章<sup>1</sup></a></li>
		
		</ul>
</div>


  <div class="rsspart">
	<a href="null" target="_blank" title="rss">RSS 订阅</a>
</div>

</aside>
</div>
    </div>
    <footer><div id="footer" >
	
	<div class="line">
		<span></span>
		<div class="author"></div>
	</div>
	
	
	<section class="info">
		<p> louis.chen,student of USTC,Focus on mobile develop. <br/>
			It is my amibition to develop beautiful app.</p>
	</section>
	 
	<div class="social-font clearfix">
		
		<a href="http://weibo.com/2338582935" target="_blank" title="weibo"></a>
		
		
		
		<a href="https://github.com/leerduo" target="_blank" title="github"></a>
		
		
		
	</div>
		<p class="copyright">Powered by <a href="http://hexo.io" target="_blank" title="hexo">hexo</a> and Theme by <a href="https://github.com/A-limon/pacman" target="_blank" title="Pacman">Pacman</a> © 2015 
		
		<a href="http://yoursite.com" target="_blank" title="louis.chen">louis.chen</a>
		
		</p>
</div>
</footer>
    <script src="/js/jquery-2.1.0.min.js"></script>
<script type="text/javascript">
$(document).ready(function(){ 
  $('.navbar').click(function(){
    $('header nav').toggleClass('shownav');
  });
  var myWidth = 0;
  function getSize(){
    if( typeof( window.innerWidth ) == 'number' ) {
      myWidth = window.innerWidth;
    } else if( document.documentElement && document.documentElement.clientWidth) {
      myWidth = document.documentElement.clientWidth;
    };
  };
  var m = $('#main'),
      a = $('#asidepart'),
      c = $('.closeaside'),
      o = $('.openaside');
  $(window).resize(function(){
    getSize(); 
    if (myWidth >= 1024) {
      $('header nav').removeClass('shownav');
    }else
    {
      m.removeClass('moveMain');
      a.css('display', 'block').removeClass('fadeOut');
      o.css('display', 'none');
      
      $('#toc.toc-aside').css('display', 'none');
        
    }
  });
  c.click(function(){
    a.addClass('fadeOut').css('display', 'none');
    o.css('display', 'block').addClass('fadeIn');
    m.addClass('moveMain');
  });
  o.click(function(){
    o.css('display', 'none').removeClass('beforeFadeIn');
    a.css('display', 'block').removeClass('fadeOut').addClass('fadeIn');      
    m.removeClass('moveMain');
  });
  $(window).scroll(function(){
    o.css("top",Math.max(80,260-$(this).scrollTop()));
  });
});
</script>

<script type="text/javascript">
$(document).ready(function(){ 
  var ai = $('.article-content>iframe'),
      ae = $('.article-content>embed'),
      t  = $('#toc'),
      h  = $('article h2')
      ah = $('article h2'),
      ta = $('#toc.toc-aside'),
      o  = $('.openaside'),
      c  = $('.closeaside');
  if(ai.length>0){
    ai.wrap('<div class="video-container" />');
  };
  if(ae.length>0){
   ae.wrap('<div class="video-container" />');
  };
  if(ah.length==0){
    t.css('display','none');
  }else{
    c.click(function(){
      ta.css('display', 'block').addClass('fadeIn');
    });
    o.click(function(){
      ta.css('display', 'none');
    });
    $(window).scroll(function(){
      ta.css("top",Math.max(140,320-$(this).scrollTop()));
    });
  };
});
</script>


<script type="text/javascript">
$(document).ready(function(){ 
  var $this = $('.share'),
      url = $this.attr('data-url'),
      encodedUrl = encodeURIComponent(url),
      title = $this.attr('data-title'),
      tsina = $this.attr('data-tsina');
  var html = [
  '<a href="#" class="overlay" id="qrcode"></a>',
  '<div class="qrcode clearfix"><span>扫描二维码分享到微信朋友圈</span><a class="qrclose" href="#share"></a><strong>Loading...Please wait</strong><img id="qrcode-pic" data-src="http://s.jiathis.com/qrcode.php?url=' + encodedUrl + '"/></div>',
  '<a href="#textlogo" class="article-back-to-top" title="Top"></a>',
  '<a href="https://www.facebook.com/sharer.php?u=' + encodedUrl + '" class="article-share-facebook" target="_blank" title="Facebook"></a>',
  '<a href="#qrcode" class="article-share-qrcode" title="QRcode"></a>',
  '<a href="https://twitter.com/intent/tweet?url=' + encodedUrl + '" class="article-share-twitter" target="_blank" title="Twitter"></a>',
  '<a href="http://service.weibo.com/share/share.php?title='+title+'&url='+encodedUrl +'&ralateUid='+ tsina +'&searchPic=true&style=number' +'" class="article-share-weibo" target="_blank" title="Weibo"></a>',
  '<span title="Share to"></span>'
  ].join('');
  $this.append(html);
  $('.article-share-qrcode').click(function(){
    var imgSrc = $('#qrcode-pic').attr('data-src');
    $('#qrcode-pic').attr('src', imgSrc);
    $('#qrcode-pic').load(function(){
        $('.qrcode strong').text(' ');
    });
  });
});     
</script>


<script type="text/javascript">
  var duoshuoQuery = {short_name:"null"};
  (function() {
    var ds = document.createElement('script');
    ds.type = 'text/javascript';ds.async = true;
    ds.src = '//static.duoshuo.com/embed.js';
    ds.charset = 'UTF-8';
    (document.getElementsByTagName('head')[0] 
    || document.getElementsByTagName('body')[0]).appendChild(ds);
  })();
</script> 





  </body>
</html>
